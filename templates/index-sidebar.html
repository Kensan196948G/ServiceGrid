<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="ITSM準拠IT運用システムプラットフォーム - 資産管理・インシデント管理・サービス要求を統合">
  <meta name="keywords" content="ITSM,IT運用,資産管理,インシデント管理,サービス要求">
  <title>ITSM運用システムプラットフォーム</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* カスタムスクロールバー */
    ::-webkit-scrollbar {
      width: 6px;
      height: 6px;
    }
    ::-webkit-scrollbar-track {
      background: #f1f5f9;
    }
    ::-webkit-scrollbar-thumb {
      background: #94a3b8;
      border-radius: 3px;
    }
    ::-webkit-scrollbar-thumb:hover {
      background: #64748b;
    }
    
    /* アコーディオンアニメーション */
    .accordion-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease-out;
    }
    .accordion-content.active {
      max-height: 200px;
      transition: max-height 0.3s ease-in;
    }
    
    /* サイドバーのトランジション */
    .sidebar {
      left: 0;
      top: 0;
      transition: transform 0.3s ease-in-out;
    }
    
    /* モバイルでのサイドバー非表示 */
    @media (max-width: 767px) {
      .sidebar.hidden-mobile {
        transform: translateX(-100%);
      }
    }
    
    /* デスクトップでは常に表示 */
    @media (min-width: 768px) {
      .sidebar {
        position: relative !important;
        transform: translateX(0) !important;
      }
    }
    
    /* アイコン回転アニメーション */
    .chevron {
      transition: transform 0.3s ease;
    }
    .chevron.rotate {
      transform: rotate(180deg);
    }
  </style>
</head>
<body class="bg-gray-50">
  <div class="flex h-screen overflow-hidden">
    <!-- サイドバー -->
    <aside id="sidebar" class="sidebar w-64 bg-white border-r border-slate-200 text-gray-800 flex-shrink-0 fixed md:relative h-full z-30 block shadow-sm">
      <div class="p-4 border-b border-slate-200">
        <h2 class="text-xl font-bold text-gray-800">ITSM運用システム</h2>
      </div>
      
      <nav class="p-4 overflow-y-auto" style="height: calc(100vh - 80px);">
        <!-- ダッシュボード -->
        <div class="mb-2">
          <a href="javascript:void(0)" onclick="showContent('dashboard')" class="flex items-center p-3 rounded hover:bg-slate-100 transition-colors text-gray-700 hover:text-gray-900" id="menu-dashboard">
            <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
            </svg>
            ダッシュボード
          </a>
        </div>
        
        <!-- 資産管理 -->
        <div class="mb-2">
          <button onclick="toggleAccordion('assets')" class="w-full flex items-center justify-between p-3 rounded hover:bg-slate-100 transition-colors text-gray-700 hover:text-gray-900">
            <div class="flex items-center">
              <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path>
              </svg>
              資産管理
            </div>
            <svg id="chevron-assets" class="chevron w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </button>
          <div id="accordion-assets" class="accordion-content">
            <a href="javascript:void(0)" onclick="showContent('assets-list')" class="block pl-11 py-2 hover:bg-slate-100 transition-colors text-gray-600 hover:text-gray-800 rounded">資産一覧</a>
            <a href="javascript:void(0)" onclick="showContent('assets-new')" class="block pl-11 py-2 hover:bg-slate-100 transition-colors text-gray-600 hover:text-gray-800 rounded">新規登録</a>
            <a href="javascript:void(0)" onclick="showContent('assets-report')" class="block pl-11 py-2 hover:bg-slate-100 transition-colors text-gray-600 hover:text-gray-800 rounded">レポート</a>
          </div>
        </div>
        
        <!-- インシデント管理 -->
        <div class="mb-2">
          <button onclick="toggleAccordion('incidents')" class="w-full flex items-center justify-between p-3 rounded hover:bg-slate-100 transition-colors text-gray-700 hover:text-gray-900">
            <div class="flex items-center">
              <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
              </svg>
              インシデント管理
            </div>
            <svg id="chevron-incidents" class="chevron w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </button>
          <div id="accordion-incidents" class="accordion-content">
            <a href="javascript:void(0)" onclick="showContent('incidents-list')" class="block pl-11 py-2 hover:bg-slate-100 transition-colors text-gray-600 hover:text-gray-800 rounded">インシデント一覧</a>
            <a href="javascript:void(0)" onclick="showContent('incidents-new')" class="block pl-11 py-2 hover:bg-slate-100 transition-colors text-gray-600 hover:text-gray-800 rounded">新規作成</a>
            <a href="javascript:void(0)" onclick="showContent('incidents-stats')" class="block pl-11 py-2 hover:bg-slate-100 transition-colors text-gray-600 hover:text-gray-800 rounded">統計</a>
          </div>
        </div>
        
        <!-- サービス要求 -->
        <div class="mb-2">
          <button onclick="toggleAccordion('requests')" class="w-full flex items-center justify-between p-3 rounded hover:bg-slate-100 transition-colors text-gray-700 hover:text-gray-900">
            <div class="flex items-center">
              <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path>
              </svg>
              サービス要求
            </div>
            <svg id="chevron-requests" class="chevron w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </button>
          <div id="accordion-requests" class="accordion-content">
            <a href="javascript:void(0)" onclick="showContent('requests-list')" class="block pl-11 py-2 hover:bg-slate-100 transition-colors text-gray-600 hover:text-gray-800 rounded">要求一覧</a>
            <a href="javascript:void(0)" onclick="showContent('requests-new')" class="block pl-11 py-2 hover:bg-slate-100 transition-colors text-gray-600 hover:text-gray-800 rounded">新規申請</a>
            <a href="javascript:void(0)" onclick="showContent('requests-pending')" class="block pl-11 py-2 hover:bg-slate-100 transition-colors text-gray-600 hover:text-gray-800 rounded">承認待ち</a>
          </div>
        </div>
        
        <!-- 変更管理 -->
        <div class="mb-2">
          <button onclick="toggleAccordion('changes')" class="w-full flex items-center justify-between p-3 rounded hover:bg-slate-100 transition-colors text-gray-700 hover:text-gray-900">
            <div class="flex items-center">
              <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
              </svg>
              変更管理
            </div>
            <svg id="chevron-changes" class="chevron w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </button>
          <div id="accordion-changes" class="accordion-content">
            <a href="javascript:void(0)" onclick="showContent('changes-list')" class="block pl-11 py-2 hover:bg-slate-100 transition-colors text-gray-600 hover:text-gray-800 rounded">変更一覧</a>
            <a href="javascript:void(0)" onclick="showContent('changes-new')" class="block pl-11 py-2 hover:bg-slate-100 transition-colors text-gray-600 hover:text-gray-800 rounded">新規変更</a>
          </div>
        </div>
        
        <!-- ナレッジ管理 -->
        <div class="mb-2">
          <button onclick="toggleAccordion('knowledge')" class="w-full flex items-center justify-between p-3 rounded hover:bg-slate-100 transition-colors text-gray-700 hover:text-gray-900">
            <div class="flex items-center">
              <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
              </svg>
              ナレッジ管理
            </div>
            <svg id="chevron-knowledge" class="chevron w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </button>
          <div id="accordion-knowledge" class="accordion-content">
            <a href="javascript:void(0)" onclick="showContent('knowledge-list')" class="block pl-11 py-2 hover:bg-slate-100 transition-colors text-gray-600 hover:text-gray-800 rounded">記事一覧</a>
            <a href="javascript:void(0)" onclick="showContent('knowledge-new')" class="block pl-11 py-2 hover:bg-slate-100 transition-colors text-gray-600 hover:text-gray-800 rounded">新規記事</a>
            <a href="javascript:void(0)" onclick="showContent('knowledge-search')" class="block pl-11 py-2 hover:bg-slate-100 transition-colors text-gray-600 hover:text-gray-800 rounded">AI検索</a>
          </div>
        </div>
        
        <!-- 問題管理 -->
        <div class="mb-2">
          <button onclick="toggleAccordion('problems')" class="w-full flex items-center justify-between p-3 rounded hover:bg-slate-100 transition-colors text-gray-700 hover:text-gray-900">
            <div class="flex items-center">
              <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
              </svg>
              問題管理
            </div>
            <svg id="chevron-problems" class="chevron w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </button>
          <div id="accordion-problems" class="accordion-content">
            <a href="javascript:void(0)" onclick="showContent('problems-list')" class="block pl-11 py-2 hover:bg-slate-100 transition-colors text-gray-600 hover:text-gray-800 rounded">問題一覧</a>
            <a href="javascript:void(0)" onclick="showContent('problems-new')" class="block pl-11 py-2 hover:bg-slate-100 transition-colors text-gray-600 hover:text-gray-800 rounded">新規問題登録</a>
            <a href="javascript:void(0)" onclick="showContent('problems-analysis')" class="block pl-11 py-2 hover:bg-slate-100 transition-colors text-gray-600 hover:text-gray-800 rounded">根本原因分析</a>
          </div>
        </div>
        
        <!-- システム設定 -->
        <div class="mb-2">
          <button onclick="toggleAccordion('settings')" class="w-full flex items-center justify-between p-3 rounded hover:bg-slate-100 transition-colors text-gray-700 hover:text-gray-900">
            <div class="flex items-center">
              <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
              </svg>
              システム設定
            </div>
            <svg id="chevron-settings" class="chevron w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </button>
          <div id="accordion-settings" class="accordion-content">
            <a href="javascript:void(0)" onclick="showContent('settings-users')" class="block pl-11 py-2 hover:bg-slate-100 transition-colors text-gray-600 hover:text-gray-800 rounded">ユーザー管理</a>
            <a href="javascript:void(0)" onclick="showContent('settings-permissions')" class="block pl-11 py-2 hover:bg-slate-100 transition-colors text-gray-600 hover:text-gray-800 rounded">権限設定</a>
            <a href="javascript:void(0)" onclick="showContent('settings-system')" class="block pl-11 py-2 hover:bg-slate-100 transition-colors text-gray-600 hover:text-gray-800 rounded">システム設定</a>
          </div>
        </div>
      </nav>
    </aside>
    
    <!-- モバイル用オーバーレイ -->
    <div id="overlay" class="fixed inset-0 bg-black bg-opacity-50 z-20 hidden md:hidden" onclick="toggleSidebar()"></div>
    
    <!-- メインコンテンツ -->
    <div class="flex-1 flex flex-col overflow-hidden">
      <!-- ヘッダー -->
      <header class="bg-white shadow-sm border-b border-gray-200">
        <div class="flex items-center justify-between px-4 py-3">
          <div class="flex items-center">
            <!-- モバイルメニューボタン -->
            <button onclick="toggleSidebar()" class="md:hidden p-2 rounded-md hover:bg-gray-100">
              <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
              </svg>
            </button>
            <h1 id="page-title" class="text-xl font-semibold text-gray-800 ml-2">ダッシュボード</h1>
          </div>
          
          <!-- ユーザー情報 -->
          <div class="flex items-center space-x-4">
            <div class="flex items-center space-x-2">
              <span class="text-sm text-gray-600">管理者</span>
              <span class="text-xs text-gray-500">• オンライン</span>
            </div>
            
            <!-- 通知アイコン -->
            <button onclick="toggleNotifications()" class="relative p-2 rounded-full hover:bg-gray-100">
              <svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"></path>
              </svg>
              <span class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center">3</span>
            </button>

            <!-- ユーザーメニュー -->
            <div class="relative">
              <button onclick="toggleUserMenu()" class="flex items-center p-2 rounded-full hover:bg-gray-100 space-x-2">
                <svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
                <svg class="w-4 h-4 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
              </button>

              <!-- ユーザーメニューのドロップダウン -->
              <div id="user-menu" class="hidden absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 z-50">
                <div class="py-2">
                  <div class="px-4 py-2 border-b border-gray-100">
                    <p class="text-sm font-medium text-gray-900">システム管理者</p>
                    <p class="text-xs text-gray-500">admin@company.com</p>
                  </div>
                  <a href="#" onclick="showUserProfile()" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                    <svg class="w-4 h-4 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                    </svg>
                    プロフィール
                  </a>
                  <a href="#" onclick="showUserSettings()" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                    <svg class="w-4 h-4 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                    </svg>
                    個人設定
                  </a>
                  <a href="#" onclick="showHelp()" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                    <svg class="w-4 h-4 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    ヘルプ
                  </a>
                  <div class="border-t border-gray-100 mt-2 pt-2">
                    <a href="#" onclick="handleLogout()" class="flex items-center px-4 py-2 text-sm text-red-700 hover:bg-red-50">
                      <svg class="w-4 h-4 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path>
                      </svg>
                      ログアウト
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- 通知パネル -->
          <div id="notifications-panel" class="hidden fixed top-16 right-4 w-80 bg-white rounded-lg shadow-xl border border-gray-200 z-50">
            <div class="p-4 border-b border-gray-200">
              <div class="flex items-center justify-between">
                <h3 class="text-lg font-semibold text-gray-800">通知</h3>
                <button onclick="clearAllNotifications()" class="text-sm text-blue-600 hover:text-blue-800">すべてクリア</button>
              </div>
            </div>
            <div class="max-h-96 overflow-y-auto">
              <div class="p-3 border-b border-gray-100 hover:bg-gray-50">
                <div class="flex items-start space-x-3">
                  <div class="w-2 h-2 bg-red-500 rounded-full mt-2 flex-shrink-0"></div>
                  <div>
                    <p class="text-sm font-medium text-gray-900">Critical インシデント発生</p>
                    <p class="text-xs text-gray-500">データベースサーバーで応答遅延が発生しています</p>
                    <p class="text-xs text-gray-400 mt-1">30分前</p>
                  </div>
                </div>
              </div>
              <div class="p-3 border-b border-gray-100 hover:bg-gray-50">
                <div class="flex items-start space-x-3">
                  <div class="w-2 h-2 bg-yellow-500 rounded-full mt-2 flex-shrink-0"></div>
                  <div>
                    <p class="text-sm font-medium text-gray-900">承認待ち要求</p>
                    <p class="text-xs text-gray-500">新規アカウント作成申請が承認待ちです</p>
                    <p class="text-xs text-gray-400 mt-1">1時間前</p>
                  </div>
                </div>
              </div>
              <div class="p-3 border-b border-gray-100 hover:bg-gray-50">
                <div class="flex items-start space-x-3">
                  <div class="w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"></div>
                  <div>
                    <p class="text-sm font-medium text-gray-900">システムメンテナンス</p>
                    <p class="text-xs text-gray-500">明日23:00からメンテナンスを実施します</p>
                    <p class="text-xs text-gray-400 mt-1">3時間前</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </header>
      
      <!-- メインコンテンツエリア -->
      <main id="main-content" class="flex-1 overflow-y-auto bg-gray-50 p-6">
        <!-- 動的コンテンツが表示されるエリア -->
      </main>
    </div>
  </div>
  
  <script>
    // コンテンツデータ
    const contentData = {
      'dashboard': {
        title: 'ダッシュボード',
        content: `
          <div class="max-w-7xl mx-auto">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
              <div class="bg-white rounded-lg shadow p-6">
                <div class="flex items-center">
                  <div class="p-3 bg-green-100 rounded-full">
                    <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                  </div>
                  <div class="ml-4">
                    <p class="text-sm text-gray-500">システム稼働率</p>
                    <p class="text-2xl font-semibold text-gray-800">98.5%</p>
                  </div>
                </div>
              </div>
              <div class="bg-white rounded-lg shadow p-6">
                <div class="flex items-center">
                  <div class="p-3 bg-blue-100 rounded-full">
                    <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path>
                    </svg>
                  </div>
                  <div class="ml-4">
                    <p class="text-sm text-gray-500">管理資産数</p>
                    <p class="text-2xl font-semibold text-gray-800">1,247</p>
                  </div>
                </div>
              </div>
              <div class="bg-white rounded-lg shadow p-6">
                <div class="flex items-center">
                  <div class="p-3 bg-yellow-100 rounded-full">
                    <svg class="w-6 h-6 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
                    </svg>
                  </div>
                  <div class="ml-4">
                    <p class="text-sm text-gray-500">処理中インシデント</p>
                    <p class="text-2xl font-semibold text-gray-800">23</p>
                  </div>
                </div>
              </div>
              <div class="bg-white rounded-lg shadow p-6">
                <div class="flex items-center">
                  <div class="p-3 bg-purple-100 rounded-full">
                    <svg class="w-6 h-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path>
                    </svg>
                  </div>
                  <div class="ml-4">
                    <p class="text-sm text-gray-500">今月のサービス要求</p>
                    <p class="text-2xl font-semibold text-gray-800">156</p>
                  </div>
                </div>
              </div>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
              <div class="bg-white rounded-lg shadow p-6">
                <h3 class="text-lg font-semibold text-gray-800 mb-4">インシデント推移</h3>
                <div class="h-64 bg-gray-100 rounded flex items-center justify-center">
                  <span class="text-gray-500">グラフエリア</span>
                </div>
              </div>
              <div class="bg-white rounded-lg shadow p-6">
                <h3 class="text-lg font-semibold text-gray-800 mb-4">資産カテゴリ別統計</h3>
                <div class="h-64 bg-gray-100 rounded flex items-center justify-center">
                  <span class="text-gray-500">グラフエリア</span>
                </div>
              </div>
            </div>
          </div>
        `
      },
      'assets-list': {
        title: '資産管理 (CMDB) - 資産一覧',
        content: `
          <div class="max-w-7xl mx-auto">
            <div class="bg-white rounded-lg shadow p-6 mb-6">
              <div class="flex items-center justify-between mb-4">
                <h2 class="text-lg font-semibold text-gray-800">資産一覧</h2>
                <button onclick="createDynamicModal('new-asset')" class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700">新規資産登録</button>
              </div>
              <div class="overflow-x-auto">
                <table class="min-w-full">
                  <thead class="bg-gray-50">
                    <tr>
                      <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">資産タグ</th>
                      <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">名称</th>
                      <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">種類</th>
                      <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">ステータス</th>
                      <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">所有者</th>
                    </tr>
                  </thead>
                  <tbody class="bg-white divide-y divide-gray-200">
                    <tr>
                      <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">SRV-001</td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">データベースサーバー</td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Server</td>
                      <td class="px-6 py-4 whitespace-nowrap"><span class="px-2 py-1 text-xs rounded-full bg-green-100 text-green-800">Active</span></td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">IT部門</td>
                    </tr>
                    <tr>
                      <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">DSK-045</td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">営業部PC</td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Desktop</td>
                      <td class="px-6 py-4 whitespace-nowrap"><span class="px-2 py-1 text-xs rounded-full bg-green-100 text-green-800">Active</span></td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">山田太郎</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        `
      },
      'assets-new': {
        title: '資産管理 - 新規登録',
        content: `
          <div class="max-w-4xl mx-auto">
            <div class="bg-white rounded-lg shadow p-6">
              <h2 class="text-lg font-semibold text-gray-800 mb-6">新規資産登録</h2>
              <form class="space-y-6">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">資産タグ</label>
                    <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="自動生成" readonly>
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">資産名称</label>
                    <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="資産名称を入力">
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">カテゴリ</label>
                    <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                      <option>Hardware</option>
                      <option>Software</option>
                      <option>Network</option>
                    </select>
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">種類</label>
                    <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                      <option>Server</option>
                      <option>Desktop</option>
                      <option>Laptop</option>
                      <option>Network Equipment</option>
                    </select>
                  </div>
                </div>
                <div class="flex justify-end space-x-3">
                  <button type="button" class="px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50">キャンセル</button>
                  <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700">登録</button>
                </div>
              </form>
            </div>
          </div>
        `
      },
      'assets-report': {
        title: '資産管理 - レポート',
        content: `
          <div class="max-w-7xl mx-auto">
            <div class="bg-white rounded-lg shadow p-6">
              <div class="flex items-center justify-between mb-6">
                <h2 class="text-lg font-semibold text-gray-800">資産レポート</h2>
                <button onclick="generateAssetReport()" class="px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700">レポート生成（自動）</button>
              </div>
              <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">レポート種類</label>
                  <select id="report-type" class="w-full px-3 py-2 border border-gray-300 rounded-md">
                    <option value="summary">総合サマリー</option>
                    <option value="category">カテゴリ別統計</option>
                    <option value="status">ステータス別統計</option>
                    <option value="lifecycle">ライフサイクル分析</option>
                  </select>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">期間指定</label>
                  <select class="w-full px-3 py-2 border border-gray-300 rounded-md">
                    <option>全期間</option>
                    <option>今月</option>
                    <option>今四半期</option>
                    <option>今年</option>
                  </select>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">フォーマット</label>
                  <select class="w-full px-3 py-2 border border-gray-300 rounded-md">
                    <option>PDF</option>
                    <option>Excel</option>
                    <option>CSV</option>
                  </select>
                </div>
              </div>
              <div id="report-preview" class="border border-gray-200 rounded-lg p-4 bg-gray-50">
                <div class="text-center py-8">
                  <svg class="w-12 h-12 text-gray-400 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                  </svg>
                  <p class="text-gray-500">レポートを生成するとここにプレビューが表示されます</p>
                </div>
              </div>
            </div>
          </div>
        `
      },
      'incidents-list': {
        title: 'インシデント管理 - インシデント一覧',
        content: `
          <div class="max-w-7xl mx-auto">
            <div class="bg-white rounded-lg shadow p-6">
              <div class="flex items-center justify-between mb-4">
                <h2 class="text-lg font-semibold text-gray-800">インシデント一覧</h2>
                <button onclick="createDynamicModal('new-incident')" class="px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700">新規インシデント</button>
              </div>
              <div class="space-y-4">
                <div class="border-l-4 border-red-500 bg-white p-4 shadow rounded-r">
                  <div class="flex items-start justify-between">
                    <div>
                      <div class="flex items-center mb-1">
                        <span class="text-sm font-medium text-gray-900 mr-2">INC-2024-0523</span>
                        <span class="px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800">Critical</span>
                      </div>
                      <h3 class="text-lg font-medium text-gray-900 mb-1">データベースサーバー応答遅延</h3>
                      <p class="text-sm text-gray-600">本番環境のデータベースサーバーで深刻な応答遅延が発生</p>
                      <div class="flex items-center text-sm text-gray-500 mt-2">
                        <span class="mr-4">担当: 田中一郎</span>
                        <span>作成: 30分前</span>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="border-l-4 border-orange-500 bg-white p-4 shadow rounded-r">
                  <div class="flex items-start justify-between">
                    <div>
                      <div class="flex items-center mb-1">
                        <span class="text-sm font-medium text-gray-900 mr-2">INC-2024-0522</span>
                        <span class="px-2 py-1 text-xs font-semibold rounded-full bg-orange-100 text-orange-800">High</span>
                      </div>
                      <h3 class="text-lg font-medium text-gray-900 mb-1">メールサーバー送信エラー</h3>
                      <p class="text-sm text-gray-600">外部向けメール送信で断続的にエラーが発生</p>
                      <div class="flex items-center text-sm text-gray-500 mt-2">
                        <span class="mr-4">担当: 未割当</span>
                        <span>作成: 1時間前</span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        `
      },
      'incidents-new': {
        title: 'インシデント管理 - 新規作成',
        content: `
          <div class="max-w-4xl mx-auto">
            <div class="bg-white rounded-lg shadow p-6">
              <h2 class="text-lg font-semibold text-gray-800 mb-6">新規インシデント作成</h2>
              <form class="space-y-6">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">インシデントタイトル</label>
                    <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500" placeholder="インシデントのタイトルを入力">
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">優先度</label>
                    <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500">
                      <option>Low</option>
                      <option>Medium</option>
                      <option>High</option>
                      <option>Critical</option>
                    </select>
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">報告者</label>
                    <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500" placeholder="報告者名">
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">担当者</label>
                    <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500">
                      <option>未割当</option>
                      <option>田中一郎</option>
                      <option>佐藤花子</option>
                      <option>鈴木太郎</option>
                    </select>
                  </div>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">詳細説明</label>
                  <textarea rows="4" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500" placeholder="インシデントの詳細を入力"></textarea>
                </div>
                <div class="flex justify-end space-x-3">
                  <button type="button" class="px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50">キャンセル</button>
                  <button type="submit" class="px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700">作成</button>
                </div>
              </form>
            </div>
          </div>
        `
      },
      'incidents-stats': {
        title: 'インシデント管理 - 統計',
        content: `
          <div class="max-w-7xl mx-auto">
            <div class="bg-white rounded-lg shadow p-6">
              <div class="flex items-center justify-between mb-6">
                <h2 class="text-lg font-semibold text-gray-800">インシデント統計</h2>
                <button onclick="generateIncidentStats()" class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700">統計更新（自動）</button>
              </div>
              <div id="incident-stats-content">
                <div class="text-center py-8">
                  <svg class="w-12 h-12 text-gray-400 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                  </svg>
                  <p class="text-gray-500">統計更新ボタンをクリックして統計を表示</p>
                </div>
              </div>
            </div>
          </div>
        `
      },
      'requests-list': {
        title: 'サービス要求 - 要求一覧',
        content: `
          <div class="max-w-7xl mx-auto">
            <div class="bg-white rounded-lg shadow p-6">
              <div class="flex items-center justify-between mb-4">
                <h2 class="text-lg font-semibold text-gray-800">サービス要求一覧</h2>
                <button onclick="createDynamicModal('new-service-request')" class="px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700">新規申請</button>
              </div>
              <div class="overflow-x-auto">
                <table class="min-w-full">
                  <thead class="bg-gray-50">
                    <tr>
                      <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">要求番号</th>
                      <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">種類</th>
                      <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">申請者</th>
                      <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">ステータス</th>
                      <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">申請日時</th>
                    </tr>
                  </thead>
                  <tbody class="bg-white divide-y divide-gray-200">
                    <tr>
                      <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">REQ-2024-1842</td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">新規アカウント</td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">高橋花子</td>
                      <td class="px-6 py-4 whitespace-nowrap"><span class="px-2 py-1 text-xs rounded-full bg-yellow-100 text-yellow-800">承認待ち</span></td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2024/06/15 09:30</td>
                    </tr>
                    <tr>
                      <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">REQ-2024-1841</td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">ソフトウェアインストール</td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">鈴木一郎</td>
                      <td class="px-6 py-4 whitespace-nowrap"><span class="px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800">処理中</span></td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2024/06/14 16:45</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        `
      },
      'requests-new': {
        title: 'サービス要求 - 新規申請',
        content: `
          <div class="max-w-4xl mx-auto">
            <div class="bg-white rounded-lg shadow p-6">
              <h2 class="text-lg font-semibold text-gray-800 mb-6">新規サービス要求</h2>
              <form class="space-y-6">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">要求カテゴリ</label>
                    <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500">
                      <option>アカウント申請</option>
                      <option>ソフトウェアインストール</option>
                      <option>アクセス権限申請</option>
                      <option>機器申請</option>
                      <option>その他</option>
                    </select>
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">優先度</label>
                    <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500">
                      <option>通常</option>
                      <option>急ぎ</option>
                      <option>緊急</option>
                    </select>
                  </div>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">件名</label>
                  <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500" placeholder="要求の概要を入力">
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">詳細説明</label>
                  <textarea rows="4" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500" placeholder="要求の詳細を入力してください"></textarea>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">希望完了日</label>
                    <input type="date" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500">
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">ビジネス影響</label>
                    <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500">
                      <option>低</option>
                      <option>中</option>
                      <option>高</option>
                    </select>
                  </div>
                </div>
                <div class="flex justify-end space-x-3">
                  <button type="button" class="px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50">キャンセル</button>
                  <button type="submit" class="px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700">申請する</button>
                </div>
              </form>
            </div>
          </div>
        `
      },
      'requests-pending': {
        title: 'サービス要求 - 承認待ち',
        content: `
          <div class="max-w-7xl mx-auto">
            <div class="bg-white rounded-lg shadow p-6">
              <div class="flex items-center justify-between mb-6">
                <h2 class="text-lg font-semibold text-gray-800">承認待ちサービス要求</h2>
                <button onclick="generatePendingRequests()" class="px-4 py-2 bg-orange-600 text-white rounded-md hover:bg-orange-700">一覧更新</button>
              </div>
              <div id="pending-requests-content">
                <div class="text-center py-8">
                  <svg class="w-12 h-12 text-gray-400 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"></path>
                  </svg>
                  <p class="text-gray-500">一覧更新ボタンで承認待ち一覧を表示</p>
                </div>
              </div>
            </div>
          </div>
        `
      },
      'changes-list': {
        title: '変更管理 - 変更要求一覧',
        content: `
          <div class="max-w-7xl mx-auto">
            <div class="bg-white rounded-lg shadow p-6">
              <div class="flex items-center justify-between mb-4">
                <h2 class="text-lg font-semibold text-gray-800">変更要求一覧</h2>
                <button onclick="createDynamicModal('new-change-request')" class="px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700">新規変更要求</button>
              </div>
              <div class="space-y-4">
                <div class="border border-gray-200 rounded-lg p-4">
                  <div class="flex items-start justify-between">
                    <div>
                      <div class="flex items-center mb-1">
                        <span class="text-sm font-medium text-gray-900 mr-2">CHG-2024-0045</span>
                        <span class="px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800">承認済み</span>
                      </div>
                      <h3 class="text-lg font-medium text-gray-900 mb-1">メールサーバーのセキュリティアップデート</h3>
                      <p class="text-sm text-gray-600">Exchange Serverのセキュリティパッチ適用</p>
                      <div class="flex items-center text-sm text-gray-500 mt-2">
                        <span class="mr-4">申請者: IT部門</span>
                        <span class="mr-4">実施予定: 2024/06/20 02:00</span>
                        <span>リスク: 低</span>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="border border-gray-200 rounded-lg p-4">
                  <div class="flex items-start justify-between">
                    <div>
                      <div class="flex items-center mb-1">
                        <span class="text-sm font-medium text-gray-900 mr-2">CHG-2024-0044</span>
                        <span class="px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800">承認待ち</span>
                      </div>
                      <h3 class="text-lg font-medium text-gray-900 mb-1">新規ファイアウォールルール追加</h3>
                      <p class="text-sm text-gray-600">開発環境へのアクセス制御ルール追加</p>
                      <div class="flex items-center text-sm text-gray-500 mt-2">
                        <span class="mr-4">申請者: 開発チーム</span>
                        <span class="mr-4">実施予定: 2024/06/18 10:00</span>
                        <span>リスク: 中</span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        `
      },
      'changes-new': {
        title: '変更管理 - 新規変更要求',
        content: `
          <div class="max-w-4xl mx-auto">
            <div class="bg-white rounded-lg shadow p-6">
              <h2 class="text-lg font-semibold text-gray-800 mb-6">新規変更要求</h2>
              <form class="space-y-6">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">変更タイトル</label>
                    <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="変更のタイトルを入力">
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">変更カテゴリ</label>
                    <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500">
                      <option>ソフトウェア更新</option>
                      <option>ハードウェア変更</option>
                      <option>ネットワーク設定</option>
                      <option>セキュリティ更新</option>
                      <option>設定変更</option>
                    </select>
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">優先度</label>
                    <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500">
                      <option>低</option>
                      <option>中</option>
                      <option>高</option>
                      <option>緊急</option>
                    </select>
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">リスクレベル</label>
                    <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500">
                      <option>低</option>
                      <option>中</option>
                      <option>高</option>
                    </select>
                  </div>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">変更内容</label>
                  <textarea rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="変更の詳細内容を記述"></textarea>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">実装理由</label>
                  <textarea rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="変更が必要な理由を記述"></textarea>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">実施予定日時</label>
                    <input type="datetime-local" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500">
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">作業時間（分）</label>
                    <input type="number" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="30">
                  </div>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">バックアウト手順</label>
                  <textarea rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="変更失敗時の復旧手順を記述"></textarea>
                </div>
                <div class="flex justify-end space-x-3">
                  <button type="button" class="px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50">キャンセル</button>
                  <button type="submit" class="px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700">変更要求提出</button>
                </div>
              </form>
            </div>
          </div>
        `
      },
      'knowledge-list': {
        title: 'ナレッジ管理 - 記事一覧',
        content: `
          <div class="max-w-7xl mx-auto">
            <div class="bg-white rounded-lg shadow p-6">
              <div class="flex items-center justify-between mb-6">
                <h2 class="text-lg font-semibold text-gray-800">ナレッジ記事一覧</h2>
                <button onclick="showContent('knowledge-new')" class="px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700">新規記事作成</button>
              </div>
              <div id="knowledge-articles-list" class="space-y-4">
                <div class="border border-gray-200 rounded-lg p-4">
                  <div class="flex items-start justify-between">
                    <div>
                      <h3 class="font-medium text-gray-900">サーバーメンテナンス手順書</h3>
                      <p class="text-sm text-gray-600 mt-1">定期メンテナンスの手順と注意事項をまとめたガイド</p>
                      <div class="flex items-center text-xs text-gray-500 mt-2">
                        <span>作成者: 田中一郎</span>
                        <span class="mx-2">•</span>
                        <span>作成日: 2024/06/10</span>
                        <span class="mx-2">•</span>
                        <span>閲覧数: 45</span>
                      </div>
                    </div>
                    <div class="flex space-x-2">
                      <button class="text-blue-600 hover:text-blue-800 text-sm">編集</button>
                      <button class="text-green-600 hover:text-green-800 text-sm">詳細</button>
                    </div>
                  </div>
                </div>
                <div class="border border-gray-200 rounded-lg p-4">
                  <div class="flex items-start justify-between">
                    <div>
                      <h3 class="font-medium text-gray-900">ネットワークトラブルシューティング</h3>
                      <p class="text-sm text-gray-600 mt-1">ネットワーク関連の問題解決手順とチェックリスト</p>
                      <div class="flex items-center text-xs text-gray-500 mt-2">
                        <span>作成者: 佐藤花子</span>
                        <span class="mx-2">•</span>
                        <span>作成日: 2024/06/08</span>
                        <span class="mx-2">•</span>
                        <span>閲覧数: 78</span>
                      </div>
                    </div>
                    <div class="flex space-x-2">
                      <button class="text-blue-600 hover:text-blue-800 text-sm">編集</button>
                      <button class="text-green-600 hover:text-green-800 text-sm">詳細</button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        `
      },
      'knowledge-new': {
        title: 'ナレッジ管理 - 新規記事作成',
        content: `
          <div class="max-w-4xl mx-auto">
            <div class="bg-white rounded-lg shadow p-6">
              <h2 class="text-lg font-semibold text-gray-800 mb-6">新規ナレッジ記事作成</h2>
              <form class="space-y-6">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">記事タイトル</label>
                    <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500" placeholder="記事のタイトルを入力">
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">カテゴリ</label>
                    <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500">
                      <option>手順書</option>
                      <option>FAQ</option>
                      <option>トラブルシューティング</option>
                      <option>ベストプラクティス</option>
                      <option>ポリシー</option>
                    </select>
                  </div>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">概要</label>
                  <textarea rows="2" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500" placeholder="記事の概要を簡潔に記述"></textarea>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">記事内容</label>
                  <textarea rows="12" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500" placeholder="詳細な手順や情報をMarkdown形式で記述してください"></textarea>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">タグ</label>
                    <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500" placeholder="タグをカンマ区切りで入力">
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">公開ステータス</label>
                    <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500">
                      <option>下書き</option>
                      <option>レビュー中</option>
                      <option>公開</option>
                    </select>
                  </div>
                </div>
                <div class="flex justify-end space-x-3">
                  <button type="button" onclick="saveKnowledgeDraft()" class="px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50">下書き保存</button>
                  <button type="submit" class="px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700">公開</button>
                </div>
              </form>
            </div>
          </div>
        `
      },
      'knowledge-search': {
        title: 'ナレッジ管理 - AI検索',
        content: `
          <div class="max-w-4xl mx-auto">
            <div class="bg-white rounded-lg shadow p-6">
              <h2 class="text-lg font-semibold text-gray-800 mb-6">AIナレッジ検索</h2>
              <div class="mb-6">
                <div class="flex space-x-3">
                  <input type="text" id="ai-search-query" class="flex-1 px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500" placeholder="知りたいことを入力してください">
                  <button onclick="executeAIKnowledgeSearch()" class="px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700">検索</button>
                </div>
                <p class="text-sm text-gray-500 mt-2">例: 「サーバーが開始しない時の対応」「ネットワークが遅い原因」</p>
              </div>
              
              <div id="ai-search-results" class="space-y-4">
                <div class="text-center py-8">
                  <svg class="w-12 h-12 text-gray-400 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                  </svg>
                  <p class="text-gray-500">検索キーワードを入力してAI検索を実行してください</p>
                </div>
              </div>
              
              <div class="mt-6 pt-6 border-t border-gray-200">
                <div class="flex items-center justify-between">
                  <h3 class="text-md font-medium text-gray-800">検索結果からナレッジを作成</h3>
                  <button onclick="updateKnowledgeFromAI()" class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700">ナレッジに反映</button>
                </div>
                <p class="text-sm text-gray-500 mt-2">AI検索結果をもとに新しいナレッジ記事を自動生成します</p>
              </div>
            </div>
          </div>
        `
      },
      'problems-list': {
        title: '問題管理 - 問題一覧',
        content: `
          <div class="max-w-7xl mx-auto">
            <div class="bg-white rounded-lg shadow p-6">
              <div class="flex items-center justify-between mb-6">
                <h2 class="text-lg font-semibold text-gray-800">問題一覧</h2>
                <button onclick="createDynamicModal('new-problem')" class="px-4 py-2 bg-orange-600 text-white rounded-md hover:bg-orange-700">新規問題登録</button>
              </div>
              <div class="space-y-4">
                <div class="border border-gray-200 rounded-lg p-4">
                  <div class="flex items-start justify-between">
                    <div>
                      <div class="flex items-center mb-1">
                        <span class="text-sm font-medium text-gray-900 mr-2">PRB-2024-0012</span>
                        <span class="px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800">高</span>
                        <span class="px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800 ml-2">分析中</span>
                      </div>
                      <h3 class="text-lg font-medium text-gray-900 mb-1">メールサーバーの定期的なパフォーマンス低下</h3>
                      <p class="text-sm text-gray-600">毎週水曜日にメール送受信が遅くなる現象が発生</p>
                      <div class="flex items-center text-sm text-gray-500 mt-2">
                        <span class="mr-4">関連インシデント: 5件</span>
                        <span class="mr-4">登録日: 2024/06/10</span>
                        <span>担当: 田中一郎</span>
                      </div>
                    </div>
                    <div class="flex space-x-2">
                      <button onclick="generateProblemReport('PRB-2024-0012')" class="px-3 py-1 bg-gray-600 text-white text-sm rounded hover:bg-gray-700">レポート</button>
                      <button onclick="showContent('problems-analysis')" class="px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700">分析</button>
                    </div>
                  </div>
                </div>
                <div class="border border-gray-200 rounded-lg p-4">
                  <div class="flex items-start justify-between">
                    <div>
                      <div class="flex items-center mb-1">
                        <span class="text-sm font-medium text-gray-900 mr-2">PRB-2024-0011</span>
                        <span class="px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800">中</span>
                        <span class="px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800 ml-2">解決済み</span>
                      </div>
                      <h3 class="text-lg font-medium text-gray-900 mb-1">プリンターの紙詰まり頻発</h3>
                      <p class="text-sm text-gray-600">3階フロアのプリンターで紙詰まりが頻繁に発生</p>
                      <div class="flex items-center text-sm text-gray-500 mt-2">
                        <span class="mr-4">関連インシデント: 12件</span>
                        <span class="mr-4">登録日: 2024/06/05</span>
                        <span>担当: 佐藤花子</span>
                      </div>
                    </div>
                    <div class="flex space-x-2">
                      <button onclick="generateProblemReport('PRB-2024-0011')" class="px-3 py-1 bg-gray-600 text-white text-sm rounded hover:bg-gray-700">レポート</button>
                      <button class="px-3 py-1 bg-green-600 text-white text-sm rounded">完了</button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        `
      },
      'problems-new': {
        title: '問題管理 - 新規問題登録',
        content: `
          <div class="max-w-4xl mx-auto">
            <div class="bg-white rounded-lg shadow p-6">
              <h2 class="text-lg font-semibold text-gray-800 mb-6">新規問題登録</h2>
              <form class="space-y-6">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">問題タイトル</label>
                    <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500" placeholder="問題のタイトルを入力">
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">優先度</label>
                    <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500">
                      <option>低</option>
                      <option>中</option>
                      <option>高</option>
                      <option>緊急</option>
                    </select>
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">発生頻度</label>
                    <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500">
                      <option>一度のみ</option>
                      <option>時々</option>
                      <option>定期的</option>
                      <option>頻繁</option>
                    </select>
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">関連インシデント数</label>
                    <input type="number" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500" placeholder="関連するインシデント数">
                  </div>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">問題の詳細</label>
                  <textarea rows="4" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500" placeholder="問題の詳細を入力"></textarea>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">ビジネス影響</label>
                  <textarea rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500" placeholder="ビジネスへの影響を記述"></textarea>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">関連システム</label>
                    <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500" placeholder="関連するシステム名">
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">担当者</label>
                    <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500">
                      <option>未割当</option>
                      <option>田中一郎</option>
                      <option>佐藤花子</option>
                      <option>鈴木太郎</option>
                    </select>
                  </div>
                </div>
                <div class="flex justify-end space-x-3">
                  <button type="button" class="px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50">キャンセル</button>
                  <button type="submit" class="px-4 py-2 bg-orange-600 text-white rounded-md hover:bg-orange-700">登録</button>
                </div>
              </form>
            </div>
          </div>
        `
      },
      'problems-analysis': {
        title: '問題管理 - 根本原因分析',
        content: `
          <div class="max-w-6xl mx-auto">
            <div class="bg-white rounded-lg shadow p-6">
              <div class="flex items-center justify-between mb-6">
                <h2 class="text-lg font-semibold text-gray-800">根本原因分析 (PRB-2024-0012)</h2>
                <div class="flex space-x-2">
                  <button onclick="saveAnalysisDraft()" class="px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50">下書き保存</button>
                  <button onclick="requestReview()" class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700">レビュー依頼</button>
                  <button onclick="completeAnalysis()" class="px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700">分析完了</button>
                </div>
              </div>
              
              <!-- 分析テンプレート -->
              <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div class="space-y-6">
                  <!-- 5 Why分析 -->
                  <div class="border border-gray-200 rounded-lg p-4">
                    <h3 class="text-md font-semibold mb-4">5 Why分析</h3>
                    <div class="space-y-3">
                      <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Why 1: なぜ問題が発生したのか？</label>
                        <textarea rows="2" class="w-full px-3 py-2 border border-gray-300 rounded-md text-sm" placeholder="最初の原因を記述"></textarea>
                      </div>
                      <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Why 2: なぜその原因が起こったのか？</label>
                        <textarea rows="2" class="w-full px-3 py-2 border border-gray-300 rounded-md text-sm" placeholder="さらに深く探る"></textarea>
                      </div>
                      <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Why 3: なぜその原因が起こったのか？</label>
                        <textarea rows="2" class="w-full px-3 py-2 border border-gray-300 rounded-md text-sm" placeholder="さらに深く探る"></textarea>
                      </div>
                      <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Why 4: なぜその原因が起こったのか？</label>
                        <textarea rows="2" class="w-full px-3 py-2 border border-gray-300 rounded-md text-sm" placeholder="さらに深く探る"></textarea>
                      </div>
                      <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Why 5: なぜその原因が起こったのか？</label>
                        <textarea rows="2" class="w-full px-3 py-2 border border-gray-300 rounded-md text-sm" placeholder="根本原因を特定"></textarea>
                      </div>
                    </div>
                  </div>
                  
                  <!-- 根本原因 -->
                  <div class="border border-gray-200 rounded-lg p-4">
                    <h3 class="text-md font-semibold mb-4">根本原因</h3>
                    <textarea rows="4" class="w-full px-3 py-2 border border-gray-300 rounded-md text-sm" placeholder="特定された根本原因を記述"></textarea>
                  </div>
                </div>
                
                <div class="space-y-6">
                  <!-- 改善策 -->
                  <div class="border border-gray-200 rounded-lg p-4">
                    <h3 class="text-md font-semibold mb-4">改善策</h3>
                    <div class="space-y-4">
                      <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">短期的改善策</label>
                        <textarea rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-md text-sm" placeholder="即座実施できる対策"></textarea>
                      </div>
                      <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">長期的改善策</label>
                        <textarea rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-md text-sm" placeholder="根本的な解決策"></textarea>
                      </div>
                      <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">予防策</label>
                        <textarea rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-md text-sm" placeholder="再発防止のための対策"></textarea>
                      </div>
                    </div>
                  </div>
                  
                  <!-- アクションプラン -->
                  <div class="border border-gray-200 rounded-lg p-4">
                    <h3 class="text-md font-semibold mb-4">アクションプラン</h3>
                    <div class="space-y-3">
                      <div class="flex items-center space-x-3">
                        <input type="checkbox" class="rounded">
                        <input type="text" class="flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm" placeholder="アクション項目を入力">
                        <input type="date" class="px-3 py-2 border border-gray-300 rounded-md text-sm">
                      </div>
                      <div class="flex items-center space-x-3">
                        <input type="checkbox" class="rounded">
                        <input type="text" class="flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm" placeholder="アクション項目を入力">
                        <input type="date" class="px-3 py-2 border border-gray-300 rounded-md text-sm">
                      </div>
                      <div class="flex items-center space-x-3">
                        <input type="checkbox" class="rounded">
                        <input type="text" class="flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm" placeholder="アクション項目を入力">
                        <input type="date" class="px-3 py-2 border border-gray-300 rounded-md text-sm">
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              
              <div class="mt-6 pt-6 border-t border-gray-200">
                <div class="flex justify-between items-center">
                  <div class="text-sm text-gray-500">
                    最終更新: ${new Date().toLocaleString('ja-JP')} | 作成者: 田中一郎
                  </div>
                  <button onclick="generateAnalysisReport()" class="px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700">分析レポート生成</button>
                </div>
              </div>
            </div>
          </div>
        `
      },
      'settings-users': {
        title: 'システム設定 - ユーザー管理',
        content: `
          <div class="max-w-7xl mx-auto">
            <div class="bg-white rounded-lg shadow p-6">
              <div class="flex items-center justify-between mb-4">
                <h2 class="text-lg font-semibold text-gray-800">ユーザー管理</h2>
                <button onclick="createDynamicModal('new-user')" class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700">新規ユーザー</button>
              </div>
              <div class="overflow-x-auto">
                <table class="min-w-full">
                  <thead class="bg-gray-50">
                    <tr>
                      <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">ユーザー名</th>
                      <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">表示名</th>
                      <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">役割</th>
                      <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">ステータス</th>
                      <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">最終ログイン</th>
                      <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">操作</th>
                    </tr>
                  </thead>
                  <tbody class="bg-white divide-y divide-gray-200">
                    <tr>
                      <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">admin</td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">システム管理者</td>
                      <td class="px-6 py-4 whitespace-nowrap"><span class="px-2 py-1 text-xs rounded-full bg-red-100 text-red-800">管理者</span></td>
                      <td class="px-6 py-4 whitespace-nowrap"><span class="px-2 py-1 text-xs rounded-full bg-green-100 text-green-800">アクティブ</span></td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2024/06/15 14:30</td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                        <a href="#" onclick="editUser('admin')" class="text-blue-600 hover:text-blue-900 mr-3">編集</a>
                        <a href="#" onclick="deactivateUser('admin')" class="text-red-600 hover:text-red-900">無効化</a>
                      </td>
                    </tr>
                    <tr>
                      <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">operator</td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">運用担当者</td>
                      <td class="px-6 py-4 whitespace-nowrap"><span class="px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800">ユーザー</span></td>
                      <td class="px-6 py-4 whitespace-nowrap"><span class="px-2 py-1 text-xs rounded-full bg-green-100 text-green-800">アクティブ</span></td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2024/06/15 09:15</td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                        <a href="#" onclick="editUser('admin')" class="text-blue-600 hover:text-blue-900 mr-3">編集</a>
                        <a href="#" onclick="deactivateUser('admin')" class="text-red-600 hover:text-red-900">無効化</a>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        `
      },
      'settings-permissions': {
        title: 'システム設定 - 権限設定',
        content: `
          <div class="max-w-4xl mx-auto">
            <div class="bg-white rounded-lg shadow p-6">
              <div class="flex items-center justify-between mb-6">
                <h2 class="text-lg font-semibold text-gray-800">権限設定</h2>
                <button onclick="savePermissionSettings()" class="px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700">設定保存</button>
              </div>
              
              <div class="space-y-6">
                <!-- 管理者権限 -->
                <div class="border border-gray-200 rounded-lg p-4">
                  <h3 class="text-md font-semibold mb-4">管理者権限</h3>
                  <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
                    <label class="flex items-center">
                      <input type="checkbox" checked class="rounded mr-2">
                      <span class="text-sm">ユーザー管理</span>
                    </label>
                    <label class="flex items-center">
                      <input type="checkbox" checked class="rounded mr-2">
                      <span class="text-sm">システム設定</span>
                    </label>
                    <label class="flex items-center">
                      <input type="checkbox" checked class="rounded mr-2">
                      <span class="text-sm">レポート閲覧</span>
                    </label>
                    <label class="flex items-center">
                      <input type="checkbox" checked class="rounded mr-2">
                      <span class="text-sm">データバックアップ</span>
                    </label>
                    <label class="flex items-center">
                      <input type="checkbox" checked class="rounded mr-2">
                      <span class="text-sm">監査ログ</span>
                    </label>
                    <label class="flex items-center">
                      <input type="checkbox" checked class="rounded mr-2">
                      <span class="text-sm">全機能アクセス</span>
                    </label>
                  </div>
                </div>
                
                <!-- オペレーター権限 -->
                <div class="border border-gray-200 rounded-lg p-4">
                  <h3 class="text-md font-semibold mb-4">オペレーター権限</h3>
                  <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
                    <label class="flex items-center">
                      <input type="checkbox" checked class="rounded mr-2">
                      <span class="text-sm">インシデント管理</span>
                    </label>
                    <label class="flex items-center">
                      <input type="checkbox" checked class="rounded mr-2">
                      <span class="text-sm">資産管理</span>
                    </label>
                    <label class="flex items-center">
                      <input type="checkbox" checked class="rounded mr-2">
                      <span class="text-sm">サービス要求</span>
                    </label>
                    <label class="flex items-center">
                      <input type="checkbox" checked class="rounded mr-2">
                      <span class="text-sm">ナレッジ管理</span>
                    </label>
                    <label class="flex items-center">
                      <input type="checkbox" class="rounded mr-2">
                      <span class="text-sm">ユーザー管理</span>
                    </label>
                    <label class="flex items-center">
                      <input type="checkbox" class="rounded mr-2">
                      <span class="text-sm">システム設定</span>
                    </label>
                  </div>
                </div>
                
                <!-- 一般ユーザー権限 -->
                <div class="border border-gray-200 rounded-lg p-4">
                  <h3 class="text-md font-semibold mb-4">一般ユーザー権限</h3>
                  <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
                    <label class="flex items-center">
                      <input type="checkbox" checked class="rounded mr-2">
                      <span class="text-sm">サービス要求申請</span>
                    </label>
                    <label class="flex items-center">
                      <input type="checkbox" checked class="rounded mr-2">
                      <span class="text-sm">ナレッジ閲覧</span>
                    </label>
                    <label class="flex items-center">
                      <input type="checkbox" checked class="rounded mr-2">
                      <span class="text-sm">インシデント報告</span>
                    </label>
                    <label class="flex items-center">
                      <input type="checkbox" class="rounded mr-2">
                      <span class="text-sm">資産情報閲覧</span>
                    </label>
                    <label class="flex items-center">
                      <input type="checkbox" class="rounded mr-2">
                      <span class="text-sm">レポート閲覧</span>
                    </label>
                  </div>
                </div>
              </div>
            </div>
          </div>
        `
      },
      'settings-system': {
        title: 'システム設定 - システム設定',
        content: `
          <div class="max-w-4xl mx-auto">
            <div class="bg-white rounded-lg shadow p-6">
              <div class="flex items-center justify-between mb-6">
                <h2 class="text-lg font-semibold text-gray-800">システム設定</h2>
                <div class="flex space-x-2">
                  <button onclick="clearSystemSettings()" class="px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50">クリア</button>
                  <button onclick="saveSystemSettings()" class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700">保存</button>
                </div>
              </div>
              
              <form id="system-settings-form" class="space-y-6">
                <!-- データベース設定 -->
                <div class="border border-gray-200 rounded-lg p-4">
                  <h3 class="text-md font-semibold mb-4">データベース設定</h3>
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">ホスト名</label>
                      <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md" value="localhost">
                    </div>
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">ポート</label>
                      <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md" value="5432">
                    </div>
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">データベース名</label>
                      <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md" value="itsm_db">
                    </div>
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">ユーザー名</label>
                      <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md" value="itsm_user">
                    </div>
                  </div>
                  <div class="mt-4">
                    <div class="flex items-center space-x-2">
                      <button type="button" onclick="testConnection()" class="px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700">接続テスト</button>
                      <div id="connection-test-result" class="text-sm"></div>
                    </div>
                  </div>
                </div>
                
                <!-- メール設定 -->
                <div class="border border-gray-200 rounded-lg p-4">
                  <h3 class="text-md font-semibold mb-4">メール設定</h3>
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">SMTPサーバー</label>
                      <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md" value="smtp.company.com">
                    </div>
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">SMTPポート</label>
                      <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md" value="587">
                    </div>
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">送信者アドレス</label>
                      <input type="email" class="w-full px-3 py-2 border border-gray-300 rounded-md" value="noreply@company.com">
                    </div>
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">送信者名</label>
                      <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md" value="ITSMシステム">
                    </div>
                  </div>
                </div>
                
                <!-- システム設定 -->
                <div class="border border-gray-200 rounded-lg p-4">
                  <h3 class="text-md font-semibold mb-4">システム設定</h3>
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">セッションタイムアウト（分）</label>
                      <input type="number" class="w-full px-3 py-2 border border-gray-300 rounded-md" value="30">
                    </div>
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">バックアップ保持日数</label>
                      <input type="number" class="w-full px-3 py-2 border border-gray-300 rounded-md" value="30">
                    </div>
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">ログレベル</label>
                      <select class="w-full px-3 py-2 border border-gray-300 rounded-md">
                        <option>ERROR</option>
                        <option>WARN</option>
                        <option selected>INFO</option>
                        <option>DEBUG</option>
                      </select>
                    </div>
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">最大ファイルサイズ（MB）</label>
                      <input type="number" class="w-full px-3 py-2 border border-gray-300 rounded-md" value="10">
                    </div>
                  </div>
                </div>
                
                <!-- 通知設定 -->
                <div class="border border-gray-200 rounded-lg p-4">
                  <h3 class="text-md font-semibold mb-4">通知設定</h3>
                  <div class="space-y-3">
                    <label class="flex items-center">
                      <input type="checkbox" checked class="rounded mr-2">
                      <span class="text-sm">インシデント作成時にメール通知</span>
                    </label>
                    <label class="flex items-center">
                      <input type="checkbox" checked class="rounded mr-2">
                      <span class="text-sm">サービス要求承認時にメール通知</span>
                    </label>
                    <label class="flex items-center">
                      <input type="checkbox" class="rounded mr-2">
                      <span class="text-sm">システムメンテナンス時にメール通知</span>
                    </label>
                    <label class="flex items-center">
                      <input type="checkbox" checked class="rounded mr-2">
                      <span class="text-sm">Criticalインシデント時にSMS通知</span>
                    </label>
                  </div>
                </div>
              </form>
            </div>
          </div>
        `
      },
      'assets-report': {
        title: '資産管理 - レポート',
        content: `
          <div class="max-w-7xl mx-auto">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
              <div class="bg-white rounded-lg shadow p-6">
                <h3 class="text-lg font-semibold text-gray-800 mb-4">資産カテゴリ別統計</h3>
                <div class="space-y-3">
                  <div class="flex justify-between items-center">
                    <span class="text-sm text-gray-600">サーバー</span>
                    <span class="text-sm font-medium">45台</span>
                  </div>
                  <div class="flex justify-between items-center">
                    <span class="text-sm text-gray-600">デスクトップPC</span>
                    <span class="text-sm font-medium">280台</span>
                  </div>
                  <div class="flex justify-between items-center">
                    <span class="text-sm text-gray-600">ノートPC</span>
                    <span class="text-sm font-medium">156台</span>
                  </div>
                  <div class="flex justify-between items-center">
                    <span class="text-sm text-gray-600">ネットワーク機器</span>
                    <span class="text-sm font-medium">78台</span>
                  </div>
                </div>
              </div>
              <div class="bg-white rounded-lg shadow p-6">
                <h3 class="text-lg font-semibold text-gray-800 mb-4">保証期限切れ予定</h3>
                <div class="space-y-3">
                  <div class="p-3 bg-red-50 border border-red-200 rounded">
                    <p class="text-sm font-medium text-red-800">30日以内: 12台</p>
                  </div>
                  <div class="p-3 bg-yellow-50 border border-yellow-200 rounded">
                    <p class="text-sm font-medium text-yellow-800">60日以内: 28台</p>
                  </div>
                  <div class="p-3 bg-blue-50 border border-blue-200 rounded">
                    <p class="text-sm font-medium text-blue-800">90日以内: 45台</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        `
      },
      'incidents-new': {
        title: 'インシデント管理 - 新規作成',
        content: `
          <div class="max-w-4xl mx-auto">
            <div class="bg-white rounded-lg shadow p-6">
              <h2 class="text-lg font-semibold text-gray-800 mb-6">新規インシデント作成</h2>
              <form class="space-y-6">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">タイトル <span class="text-red-500">*</span></label>
                    <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500" placeholder="インシデントのタイトル">
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">優先度 <span class="text-red-500">*</span></label>
                    <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500">
                      <option>Low</option>
                      <option>Medium</option>
                      <option>High</option>
                      <option>Critical</option>
                    </select>
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">影響度</label>
                    <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500">
                      <option>Low</option>
                      <option>Medium</option>
                      <option>High</option>
                    </select>
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">緊急度</label>
                    <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500">
                      <option>Low</option>
                      <option>Medium</option>
                      <option>High</option>
                    </select>
                  </div>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">詳細説明 <span class="text-red-500">*</span></label>
                  <textarea rows="4" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500" placeholder="インシデントの詳細な説明"></textarea>
                </div>
                <div class="flex justify-end space-x-3">
                  <button type="button" class="px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50">キャンセル</button>
                  <button type="submit" class="px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700">インシデント作成</button>
                </div>
              </form>
            </div>
          </div>
        `
      },
      'requests-new': {
        title: 'サービス要求 - 新規申請',
        content: `
          <div class="max-w-4xl mx-auto">
            <div class="bg-white rounded-lg shadow p-6">
              <h2 class="text-lg font-semibold text-gray-800 mb-6">新規サービス要求</h2>
              <form class="space-y-6">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">要求種類 <span class="text-red-500">*</span></label>
                    <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500">
                      <option>新規アカウント</option>
                      <option>ソフトウェアインストール</option>
                      <option>アクセス権限申請</option>
                      <option>機器申請</option>
                      <option>その他</option>
                    </select>
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">優先度</label>
                    <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500">
                      <option>通常</option>
                      <option>急ぎ</option>
                      <option>緊急</option>
                    </select>
                  </div>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">件名 <span class="text-red-500">*</span></label>
                  <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500" placeholder="要求の概要">
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">詳細説明 <span class="text-red-500">*</span></label>
                  <textarea rows="4" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500" placeholder="要求の詳細説明"></textarea>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">希望完了日</label>
                    <input type="date" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500">
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">業務影響度</label>
                    <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500">
                      <option>低</option>
                      <option>中</option>
                      <option>高</option>
                    </select>
                  </div>
                </div>
                <div class="flex justify-end space-x-3">
                  <button type="button" class="px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50">キャンセル</button>
                  <button type="submit" class="px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700">申請する</button>
                </div>
              </form>
            </div>
          </div>
        `
      },
      'knowledge-list': {
        title: 'ナレッジ管理 - 記事一覧',
        content: `
          <div class="max-w-7xl mx-auto">
            <div class="bg-white rounded-lg shadow p-6">
              <div class="flex items-center justify-between mb-4">
                <h2 class="text-lg font-semibold text-gray-800">ナレッジベース</h2>
                <button class="px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700">新規記事作成</button>
              </div>
              <div class="space-y-4">
                <div class="border border-gray-200 rounded-lg p-4 hover:bg-gray-50">
                  <div class="flex items-start justify-between">
                    <div>
                      <h3 class="text-lg font-medium text-gray-900 mb-1">Windows10のパスワードリセット手順</h3>
                      <p class="text-sm text-gray-600 mb-2">管理者によるドメインユーザーパスワードのリセット手順を説明</p>
                      <div class="flex items-center text-sm text-gray-500">
                        <span class="mr-4">カテゴリ: システム管理</span>
                        <span class="mr-4">作成者: IT部門</span>
                        <span>更新: 2024/06/10</span>
                      </div>
                    </div>
                    <div class="flex items-center space-x-2">
                      <span class="px-2 py-1 text-xs rounded-full bg-green-100 text-green-800">承認済み</span>
                      <button class="text-blue-600 hover:text-blue-900">表示</button>
                    </div>
                  </div>
                </div>
                <div class="border border-gray-200 rounded-lg p-4 hover:bg-gray-50">
                  <div class="flex items-start justify-between">
                    <div>
                      <h3 class="text-lg font-medium text-gray-900 mb-1">Outlookの設定トラブルシューティング</h3>
                      <p class="text-sm text-gray-600 mb-2">メール受信ができない場合の一般的な解決手順</p>
                      <div class="flex items-center text-sm text-gray-500">
                        <span class="mr-4">カテゴリ: アプリケーション</span>
                        <span class="mr-4">作成者: ヘルプデスク</span>
                        <span>更新: 2024/06/08</span>
                      </div>
                    </div>
                    <div class="flex items-center space-x-2">
                      <span class="px-2 py-1 text-xs rounded-full bg-green-100 text-green-800">承認済み</span>
                      <button class="text-blue-600 hover:text-blue-900">表示</button>
                    </div>
                  </div>
                </div>
                <div class="border border-gray-200 rounded-lg p-4 hover:bg-gray-50">
                  <div class="flex items-start justify-between">
                    <div>
                      <h3 class="text-lg font-medium text-gray-900 mb-1">VPN接続設定ガイド</h3>
                      <p class="text-sm text-gray-600 mb-2">在宅勤務用VPN接続の設定手順と注意事項</p>
                      <div class="flex items-center text-sm text-gray-500">
                        <span class="mr-4">カテゴリ: ネットワーク</span>
                        <span class="mr-4">作成者: IT部門</span>
                        <span>更新: 2024/06/05</span>
                      </div>
                    </div>
                    <div class="flex items-center space-x-2">
                      <span class="px-2 py-1 text-xs rounded-full bg-yellow-100 text-yellow-800">レビュー中</span>
                      <button class="text-blue-600 hover:text-blue-900">表示</button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        `
      },
      'settings-permissions': {
        title: 'システム設定 - 権限設定',
        content: `
          <div class="max-w-7xl mx-auto">
            <div class="bg-white rounded-lg shadow p-6">
              <h2 class="text-lg font-semibold text-gray-800 mb-6">ロールベース権限設定</h2>
              <div class="space-y-6">
                <div class="border border-gray-200 rounded-lg p-4">
                  <h3 class="text-md font-medium text-gray-800 mb-3">管理者 (ADMIN)</h3>
                  <div class="grid grid-cols-2 md:grid-cols-3 gap-3">
                    <div class="flex items-center">
                      <input type="checkbox" checked disabled class="mr-2">
                      <span class="text-sm">すべての機能</span>
                    </div>
                    <div class="flex items-center">
                      <input type="checkbox" checked disabled class="mr-2">
                      <span class="text-sm">ユーザー管理</span>
                    </div>
                    <div class="flex items-center">
                      <input type="checkbox" checked disabled class="mr-2">
                      <span class="text-sm">システム設定</span>
                    </div>
                  </div>
                </div>
                <div class="border border-gray-200 rounded-lg p-4">
                  <h3 class="text-md font-medium text-gray-800 mb-3">ユーザー (USER)</h3>
                  <div class="grid grid-cols-2 md:grid-cols-3 gap-3">
                    <div class="flex items-center">
                      <input type="checkbox" checked class="mr-2">
                      <span class="text-sm">インシデント作成</span>
                    </div>
                    <div class="flex items-center">
                      <input type="checkbox" checked class="mr-2">
                      <span class="text-sm">サービス要求</span>
                    </div>
                    <div class="flex items-center">
                      <input type="checkbox" checked class="mr-2">
                      <span class="text-sm">ナレッジ参照</span>
                    </div>
                    <div class="flex items-center">
                      <input type="checkbox" class="mr-2">
                      <span class="text-sm">資産情報参照</span>
                    </div>
                  </div>
                </div>
                <div class="border border-gray-200 rounded-lg p-4">
                  <h3 class="text-md font-medium text-gray-800 mb-3">閲覧専用 (READ_ONLY)</h3>
                  <div class="grid grid-cols-2 md:grid-cols-3 gap-3">
                    <div class="flex items-center">
                      <input type="checkbox" checked class="mr-2">
                      <span class="text-sm">ダッシュボード参照</span>
                    </div>
                    <div class="flex items-center">
                      <input type="checkbox" checked class="mr-2">
                      <span class="text-sm">レポート参照</span>
                    </div>
                    <div class="flex items-center">
                      <input type="checkbox" checked class="mr-2">
                      <span class="text-sm">ナレッジ参照</span>
                    </div>
                  </div>
                </div>
                <div class="flex justify-end">
                  <button class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700">設定を保存</button>
                </div>
              </div>
            </div>
          </div>
        `
      },
      'requests-pending': {
        title: 'サービス要求 - 承認待ち',
        content: `
          <div class="max-w-7xl mx-auto">
            <div class="bg-white rounded-lg shadow p-6">
              <div class="flex items-center justify-between mb-4">
                <h2 class="text-lg font-semibold text-gray-800">承認待ちサービス要求</h2>
                <div class="flex space-x-2">
                  <button class="px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700">一括承認</button>
                  <button class="px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700">一括却下</button>
                </div>
              </div>
              <div class="space-y-4">
                <div class="border border-yellow-200 bg-yellow-50 rounded-lg p-4">
                  <div class="flex items-start justify-between">
                    <div>
                      <div class="flex items-center mb-1">
                        <input type="checkbox" class="mr-3">
                        <span class="text-sm font-medium text-gray-900 mr-2">REQ-2024-1842</span>
                        <span class="px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800">承認待ち</span>
                      </div>
                      <h3 class="text-lg font-medium text-gray-900 mb-1">新規ユーザーアカウント作成</h3>
                      <p class="text-sm text-gray-600 mb-2">営業部新入社員のドメインアカウント作成申請</p>
                      <div class="flex items-center text-sm text-gray-500">
                        <span class="mr-4">申請者: 高橋花子</span>
                        <span class="mr-4">申請日: 2024/06/15</span>
                        <span>緊急度: 通常</span>
                      </div>
                    </div>
                    <div class="flex space-x-2">
                      <button class="px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700">承認</button>
                      <button class="px-3 py-1 bg-red-600 text-white text-sm rounded hover:bg-red-700">却下</button>
                      <button class="px-3 py-1 border border-gray-300 text-gray-700 text-sm rounded hover:bg-gray-50">詳細</button>
                    </div>
                  </div>
                </div>
                <div class="border border-yellow-200 bg-yellow-50 rounded-lg p-4">
                  <div class="flex items-start justify-between">
                    <div>
                      <div class="flex items-center mb-1">
                        <input type="checkbox" class="mr-3">
                        <span class="text-sm font-medium text-gray-900 mr-2">REQ-2024-1843</span>
                        <span class="px-2 py-1 text-xs font-semibold rounded-full bg-orange-100 text-orange-800">急ぎ</span>
                      </div>
                      <h3 class="text-lg font-medium text-gray-900 mb-1">Adobe Creative Suite ライセンス追加</h3>
                      <p class="text-sm text-gray-600 mb-2">デザイン部門での緊急プロジェクト対応のため</p>
                      <div class="flex items-center text-sm text-gray-500">
                        <span class="mr-4">申請者: 佐藤デザイナー</span>
                        <span class="mr-4">申請日: 2024/06/15</span>
                        <span>緊急度: 急ぎ</span>
                      </div>
                    </div>
                    <div class="flex space-x-2">
                      <button class="px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700">承認</button>
                      <button class="px-3 py-1 bg-red-600 text-white text-sm rounded hover:bg-red-700">却下</button>
                      <button class="px-3 py-1 border border-gray-300 text-gray-700 text-sm rounded hover:bg-gray-50">詳細</button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        `
      },
      'incidents-stats': {
        title: 'インシデント管理 - 統計',
        content: `
          <div class="max-w-7xl mx-auto">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
              <div class="bg-white rounded-lg shadow p-6">
                <h3 class="text-lg font-semibold text-gray-800 mb-4">月別インシデント件数</h3>
                <div class="space-y-3">
                  <div class="flex justify-between items-center">
                    <span class="text-sm text-gray-600">6月</span>
                    <div class="flex items-center">
                      <div class="w-32 bg-gray-200 rounded-full h-2 mr-3">
                        <div class="bg-red-500 h-2 rounded-full" style="width: 75%"></div>
                      </div>
                      <span class="text-sm font-medium">45件</span>
                    </div>
                  </div>
                  <div class="flex justify-between items-center">
                    <span class="text-sm text-gray-600">5月</span>
                    <div class="flex items-center">
                      <div class="w-32 bg-gray-200 rounded-full h-2 mr-3">
                        <div class="bg-red-500 h-2 rounded-full" style="width: 60%"></div>
                      </div>
                      <span class="text-sm font-medium">36件</span>
                    </div>
                  </div>
                  <div class="flex justify-between items-center">
                    <span class="text-sm text-gray-600">4月</span>
                    <div class="flex items-center">
                      <div class="w-32 bg-gray-200 rounded-full h-2 mr-3">
                        <div class="bg-yellow-500 h-2 rounded-full" style="width: 40%"></div>
                      </div>
                      <span class="text-sm font-medium">24件</span>
                    </div>
                  </div>
                </div>
              </div>
              <div class="bg-white rounded-lg shadow p-6">
                <h3 class="text-lg font-semibold text-gray-800 mb-4">解決時間統計</h3>
                <div class="space-y-3">
                  <div class="p-3 bg-green-50 border border-green-200 rounded">
                    <p class="text-sm font-medium text-green-800">平均解決時間: 4.2時間</p>
                  </div>
                  <div class="p-3 bg-blue-50 border border-blue-200 rounded">
                    <p class="text-sm font-medium text-blue-800">SLA達成率: 92%</p>
                  </div>
                  <div class="p-3 bg-yellow-50 border border-yellow-200 rounded">
                    <p class="text-sm font-medium text-yellow-800">エスカレーション率: 8%</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        `
      },
      'changes-new': {
        title: '変更管理 - 新規変更',
        content: `
          <div class="max-w-4xl mx-auto">
            <div class="bg-white rounded-lg shadow p-6">
              <h2 class="text-lg font-semibold text-gray-800 mb-6">新規変更要求</h2>
              <form class="space-y-6">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">変更タイトル <span class="text-red-500">*</span></label>
                    <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="変更内容の概要">
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">変更種別 <span class="text-red-500">*</span></label>
                    <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500">
                      <option>標準変更</option>
                      <option>通常変更</option>
                      <option>緊急変更</option>
                      <option>メンテナンス</option>
                    </select>
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">リスクレベル</label>
                    <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500">
                      <option>低</option>
                      <option>中</option>
                      <option>高</option>
                    </select>
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">影響範囲</label>
                    <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500">
                      <option>限定的</option>
                      <option>部門単位</option>
                      <option>全社的</option>
                    </select>
                  </div>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">変更理由 <span class="text-red-500">*</span></label>
                  <textarea rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="なぜこの変更が必要なのか"></textarea>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">実施手順</label>
                  <textarea rows="4" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="変更の具体的な実施手順"></textarea>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">実施予定日時</label>
                    <input type="datetime-local" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500">
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">所要時間（分）</label>
                    <input type="number" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="60">
                  </div>
                </div>
                <div class="flex justify-end space-x-3">
                  <button type="button" class="px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50">キャンセル</button>
                  <button type="submit" class="px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700">変更要求を提出</button>
                </div>
              </form>
            </div>
          </div>
        `
      },
      
      // === Knowledge Management Features ===
      'knowledge-new': {
        title: 'ナレッジ管理 - 新規記事作成',
        content: `
          <div class="max-w-4xl mx-auto">
            <div class="bg-white rounded-lg shadow p-6">
              <h2 class="text-lg font-semibold text-gray-800 mb-6">新規ナレッジ記事作成</h2>
              <form class="space-y-6">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">記事タイトル <span class="text-red-500">*</span></label>
                    <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500" placeholder="記事のタイトルを入力">
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">カテゴリ <span class="text-red-500">*</span></label>
                    <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500">
                      <option>システム管理</option>
                      <option>アプリケーション</option>
                      <option>ネットワーク</option>
                      <option>セキュリティ</option>
                      <option>ハードウェア</option>
                      <option>トラブルシューティング</option>
                    </select>
                  </div>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">タグ</label>
                    <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500" placeholder="タグをカンマ区切りで入力">
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">公開範囲</label>
                    <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500">
                      <option>全社公開</option>
                      <option>IT部門のみ</option>
                      <option>管理者のみ</option>
                      <option>下書き</option>
                    </select>
                  </div>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">概要 <span class="text-red-500">*</span></label>
                  <textarea rows="2" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500" placeholder="記事の概要を入力"></textarea>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">記事内容 <span class="text-red-500">*</span></label>
                  <div class="border border-gray-300 rounded-md">
                    <div class="bg-gray-50 px-3 py-2 border-b border-gray-300 flex space-x-2">
                      <button type="button" class="px-2 py-1 text-sm bg-white border border-gray-300 rounded hover:bg-gray-100">太字</button>
                      <button type="button" class="px-2 py-1 text-sm bg-white border border-gray-300 rounded hover:bg-gray-100">斜体</button>
                      <button type="button" class="px-2 py-1 text-sm bg-white border border-gray-300 rounded hover:bg-gray-100">リスト</button>
                      <button type="button" class="px-2 py-1 text-sm bg-white border border-gray-300 rounded hover:bg-gray-100">リンク</button>
                      <button type="button" class="px-2 py-1 text-sm bg-white border border-gray-300 rounded hover:bg-gray-100">画像</button>
                    </div>
                    <textarea rows="12" class="w-full px-3 py-2 border-0 focus:outline-none focus:ring-0" placeholder="Markdown記法で記事内容を記述してください...

## 手順
1. 最初に...
2. 次に...

## 注意事項
- 重要なポイント...

## 関連リンク
- [参考資料](URL)"></textarea>
                  </div>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">添付ファイル</label>
                  <div class="border-2 border-dashed border-gray-300 rounded-lg p-4 text-center">
                    <svg class="w-8 h-8 text-gray-400 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
                    </svg>
                    <p class="text-sm text-gray-600">スクリーンショットやドキュメントをドロップまたはクリックして選択</p>
                    <input type="file" class="hidden" multiple accept=".png,.jpg,.jpeg,.pdf,.docx">
                  </div>
                </div>
                <div class="flex justify-end space-x-3">
                  <button type="button" class="px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50">下書き保存</button>
                  <button type="button" class="px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50">プレビュー</button>
                  <button type="submit" class="px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700">記事を公開</button>
                </div>
              </form>
            </div>
          </div>
        `
      },
      
      'knowledge-search': {
        title: 'ナレッジ管理 - AI検索',
        content: `
          <div class="max-w-4xl mx-auto">
            <div class="bg-white rounded-lg shadow p-6 mb-6">
              <h2 class="text-lg font-semibold text-gray-800 mb-6">AI搭載ナレッジ検索</h2>
              
              <!-- AI検索ボックス -->
              <div class="mb-6">
                <div class="relative">
                  <input type="text" id="ai-search-input" class="w-full px-4 py-3 pl-12 pr-24 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-lg" placeholder="「メールが送信できない」「VPN接続方法」など、自然言語で質問してください...">
                  <svg class="w-6 h-6 text-gray-400 absolute left-3 top-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                  </svg>
                  <button onclick="executeAISearch()" class="absolute right-2 top-2 px-4 py-1.5 bg-green-600 text-white rounded-md hover:bg-green-700 text-sm">
                    AI検索
                  </button>
                </div>
                <p class="text-sm text-gray-500 mt-2">
                  <span class="inline-flex items-center">
                    <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    AI検索は自然言語での質問に対応し、関連するナレッジ記事とソリューションを提案します
                  </span>
                </p>
              </div>

              <!-- Perplexity統合オプション -->
              <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6">
                <div class="flex items-start">
                  <svg class="w-5 h-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                  </svg>
                  <div>
                    <h3 class="text-sm font-medium text-blue-800 mb-1">Perplexity AI統合について</h3>
                    <p class="text-sm text-blue-700 mb-3">
                      Perplexity APIとの統合により、以下の機能が追加可能です：
                    </p>
                    <ul class="text-sm text-blue-700 space-y-1 mb-3">
                      <li>• リアルタイムWeb検索による最新情報の取得</li>
                      <li>• 外部技術文書からの解決策検索</li>
                      <li>• 多言語対応での技術情報検索</li>
                      <li>• 引用元付きの回答生成</li>
                    </ul>
                    <div class="flex space-x-2">
                      <button class="px-3 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700">統合設定</button>
                      <button class="px-3 py-1 border border-blue-300 text-blue-700 text-xs rounded hover:bg-blue-100">詳細情報</button>
                    </div>
                  </div>
                </div>
              </div>

              <!-- 検索候補 -->
              <div class="mb-6">
                <h3 class="text-sm font-medium text-gray-700 mb-3">よく検索される質問</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                  <button class="text-left p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors">
                    <div class="text-sm font-medium text-gray-800">Windows10パスワードリセット方法は？</div>
                    <div class="text-xs text-gray-500 mt-1">システム管理 • 3分で解決</div>
                  </button>
                  <button class="text-left p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors">
                    <div class="text-sm font-medium text-gray-800">VPN接続ができない場合の対処法</div>
                    <div class="text-xs text-gray-500 mt-1">ネットワーク • 5分で解決</div>
                  </button>
                  <button class="text-left p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors">
                    <div class="text-sm font-medium text-gray-800">Outlookメール設定エラーの解決</div>
                    <div class="text-xs text-gray-500 mt-1">アプリケーション • 2分で解決</div>
                  </button>
                  <button class="text-left p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors">
                    <div class="text-sm font-medium text-gray-800">プリンター接続トラブル対応</div>
                    <div class="text-xs text-gray-500 mt-1">ハードウェア • 4分で解決</div>
                  </button>
                </div>
              </div>
              
              <!-- 検索結果エリア（デモ用） -->
              <div id="search-results" class="space-y-4 hidden">
                <h3 class="text-sm font-medium text-gray-700">検索結果</h3>
                <div class="bg-green-50 border border-green-200 rounded-lg p-4">
                  <div class="flex items-start">
                    <svg class="w-5 h-5 text-green-600 mt-0.5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    <div>
                      <h4 class="text-sm font-medium text-green-800 mb-1">AI推奨解決策</h4>
                      <p class="text-sm text-green-700 mb-2">あなたの質問に最も適した解決策を見つけました：</p>
                      <div class="space-y-2">
                        <a href="#" class="block p-2 bg-white border border-green-200 rounded hover:bg-green-50">
                          <div class="text-sm font-medium text-gray-800">Windows10パスワードリセット完全ガイド</div>
                          <div class="text-xs text-gray-600">システム管理者向けの詳細手順書 • 適合率: 95%</div>
                        </a>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        `
      },
      
      // === Problem Management Features ===
      'problems-list': {
        title: '問題管理 - 問題一覧',
        content: `
          <div class="max-w-7xl mx-auto">
            <div class="flex items-center justify-between mb-6">
              <h2 class="text-lg font-semibold text-gray-800">問題管理</h2>
              <div class="flex space-x-2">
                <button class="px-4 py-2 bg-orange-600 text-white rounded-md hover:bg-orange-700">新規問題登録</button>
                <button class="px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50">レポート出力</button>
              </div>
            </div>
            
            <!-- 統計カード -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
              <div class="bg-white rounded-lg shadow p-4">
                <div class="flex items-center">
                  <div class="p-2 bg-orange-100 rounded">
                    <svg class="w-6 h-6 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
                    </svg>
                  </div>
                  <div class="ml-4">
                    <p class="text-sm text-gray-500">総問題数</p>
                    <p class="text-xl font-semibold">23</p>
                  </div>
                </div>
              </div>
              <div class="bg-white rounded-lg shadow p-4">
                <div class="flex items-center">
                  <div class="p-2 bg-red-100 rounded">
                    <svg class="w-6 h-6 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                  </div>
                  <div class="ml-4">
                    <p class="text-sm text-gray-500">分析中</p>
                    <p class="text-xl font-semibold">8</p>
                  </div>
                </div>
              </div>
              <div class="bg-white rounded-lg shadow p-4">
                <div class="flex items-center">
                  <div class="p-2 bg-blue-100 rounded">
                    <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                    </svg>
                  </div>
                  <div class="ml-4">
                    <p class="text-sm text-gray-500">解決済み</p>
                    <p class="text-xl font-semibold">12</p>
                  </div>
                </div>
              </div>
              <div class="bg-white rounded-lg shadow p-4">
                <div class="flex items-center">
                  <div class="p-2 bg-green-100 rounded">
                    <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                  </div>
                  <div class="ml-4">
                    <p class="text-sm text-gray-500">終了</p>
                    <p class="text-xl font-semibold">3</p>
                  </div>
                </div>
              </div>
            </div>

            <!-- 問題一覧テーブル -->
            <div class="bg-white rounded-lg shadow overflow-hidden">
              <div class="px-6 py-4 border-b border-gray-200 flex items-center justify-between">
                <h3 class="text-lg font-semibold text-gray-800">アクティブな問題</h3>
                <div class="flex items-center space-x-2">
                  <select class="text-sm border border-gray-300 rounded px-3 py-1">
                    <option>すべての状態</option>
                    <option>新規</option>
                    <option>分析中</option>
                    <option>解決策実装中</option>
                    <option>解決済み</option>
                  </select>
                  <input type="text" placeholder="検索..." class="text-sm border border-gray-300 rounded px-3 py-1">
                </div>
              </div>
              
              <div class="overflow-x-auto">
                <table class="min-w-full">
                  <thead class="bg-gray-50">
                    <tr>
                      <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">問題番号</th>
                      <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">タイトル</th>
                      <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">影響度</th>
                      <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">状態</th>
                      <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">担当者</th>
                      <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">関連インシデント数</th>
                      <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">作成日</th>
                      <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">操作</th>
                    </tr>
                  </thead>
                  <tbody class="bg-white divide-y divide-gray-200">
                    <tr class="hover:bg-gray-50">
                      <td class="px-6 py-4 whitespace-nowrap">
                        <span class="text-sm font-medium text-gray-900">PRB-2024-0015</span>
                      </td>
                      <td class="px-6 py-4">
                        <div class="text-sm font-medium text-gray-900">データベースサーバーの定期的な応答遅延</div>
                        <div class="text-sm text-gray-500">毎日14時頃に発生する原因不明の遅延問題</div>
                      </td>
                      <td class="px-6 py-4 whitespace-nowrap">
                        <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800">高</span>
                      </td>
                      <td class="px-6 py-4 whitespace-nowrap">
                        <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800">分析中</span>
                      </td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">田中一郎</td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center">7件</td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2024/06/10</td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                        <a href="#" class="text-blue-600 hover:text-blue-900 mr-3">詳細</a>
                        <a href="#" class="text-indigo-600 hover:text-indigo-900">分析</a>
                      </td>
                    </tr>
                    <tr class="hover:bg-gray-50">
                      <td class="px-6 py-4 whitespace-nowrap">
                        <span class="text-sm font-medium text-gray-900">PRB-2024-0014</span>
                      </td>
                      <td class="px-6 py-4">
                        <div class="text-sm font-medium text-gray-900">メール送信の間欠的失敗</div>
                        <div class="text-sm text-gray-500">外部ドメイン宛メールの送信が一定の確率で失敗</div>
                      </td>
                      <td class="px-6 py-4 whitespace-nowrap">
                        <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-orange-100 text-orange-800">中</span>
                      </td>
                      <td class="px-6 py-4 whitespace-nowrap">
                        <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800">解決策実装中</span>
                      </td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">佐藤次郎</td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center">3件</td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2024/06/08</td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                        <a href="#" class="text-blue-600 hover:text-blue-900 mr-3">詳細</a>
                        <a href="#" class="text-indigo-600 hover:text-indigo-900">分析</a>
                      </td>
                    </tr>
                    <tr class="hover:bg-gray-50">
                      <td class="px-6 py-4 whitespace-nowrap">
                        <span class="text-sm font-medium text-gray-900">PRB-2024-0013</span>
                      </td>
                      <td class="px-6 py-4">
                        <div class="text-sm font-medium text-gray-900">プリンター接続の不安定性</div>
                        <div class="text-sm text-gray-500">特定の時間帯にネットワークプリンターが使用不可</div>
                      </td>
                      <td class="px-6 py-4 whitespace-nowrap">
                        <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800">低</span>
                      </td>
                      <td class="px-6 py-4 whitespace-nowrap">
                        <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">解決済み</span>
                      </td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">山田三郎</td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center">5件</td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2024/06/05</td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                        <a href="#" class="text-blue-600 hover:text-blue-900 mr-3">詳細</a>
                        <a href="#" class="text-gray-400 cursor-not-allowed">分析</a>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        `
      },
      
      'problems-analysis': {
        title: '問題管理 - 根本原因分析',
        content: `
          <div class="max-w-6xl mx-auto">
            <div class="bg-white rounded-lg shadow p-6">
              <div class="flex items-center justify-between mb-6">
                <h2 class="text-lg font-semibold text-gray-800">根本原因分析 (RCA)</h2>
                <div class="flex space-x-2">
                  <button class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700">分析テンプレート</button>
                  <button class="px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50">レポート生成</button>
                </div>
              </div>
              
              <!-- 問題基本情報 -->
              <div class="bg-gray-50 rounded-lg p-4 mb-6">
                <h3 class="text-md font-medium text-gray-800 mb-3">分析対象問題</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <div>
                    <span class="text-sm text-gray-500">問題番号:</span>
                    <span class="text-sm font-medium text-gray-900 ml-2">PRB-2024-0015</span>
                  </div>
                  <div>
                    <span class="text-sm text-gray-500">状態:</span>
                    <span class="px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800 ml-2">分析中</span>
                  </div>
                  <div>
                    <span class="text-sm text-gray-500">タイトル:</span>
                    <span class="text-sm font-medium text-gray-900 ml-2">データベースサーバーの定期的な応答遅延</span>
                  </div>
                  <div>
                    <span class="text-sm text-gray-500">関連インシデント:</span>
                    <span class="text-sm font-medium text-gray-900 ml-2">7件</span>
                  </div>
                </div>
              </div>

              <!-- 5-Why分析 -->
              <div class="mb-6">
                <h3 class="text-md font-medium text-gray-800 mb-3">5-Why分析</h3>
                <div class="space-y-3">
                  <div class="border border-gray-200 rounded-lg p-4">
                    <div class="flex items-start">
                      <div class="w-8 h-8 bg-red-100 text-red-600 rounded-full flex items-center justify-center text-sm font-bold mr-3 mt-1">1</div>
                      <div class="flex-1">
                        <p class="text-sm font-medium text-gray-800 mb-1">なぜデータベースサーバーが遅延するのか？</p>
                        <textarea rows="2" class="w-full px-3 py-2 border border-gray-300 rounded-md text-sm" placeholder="原因を記述...">CPUとメモリ使用率が14時頃に急激に増加している</textarea>
                      </div>
                    </div>
                  </div>
                  <div class="border border-gray-200 rounded-lg p-4">
                    <div class="flex items-start">
                      <div class="w-8 h-8 bg-orange-100 text-orange-600 rounded-full flex items-center justify-center text-sm font-bold mr-3 mt-1">2</div>
                      <div class="flex-1">
                        <p class="text-sm font-medium text-gray-800 mb-1">なぜ14時頃にリソース使用率が増加するのか？</p>
                        <textarea rows="2" class="w-full px-3 py-2 border border-gray-300 rounded-md text-sm" placeholder="原因を記述...">定期的なバックアップ処理と統計データ集計が同時実行されている</textarea>
                      </div>
                    </div>
                  </div>
                  <div class="border border-gray-200 rounded-lg p-4">
                    <div class="flex items-start">
                      <div class="w-8 h-8 bg-yellow-100 text-yellow-600 rounded-full flex items-center justify-center text-sm font-bold mr-3 mt-1">3</div>
                      <div class="flex-1">
                        <p class="text-sm font-medium text-gray-800 mb-1">なぜ処理が同時実行されているのか？</p>
                        <textarea rows="2" class="w-full px-3 py-2 border border-gray-300 rounded-md text-sm" placeholder="原因を記述...">バックアップとレポート生成のスケジュールが重複している</textarea>
                      </div>
                    </div>
                  </div>
                  <div class="border border-gray-200 rounded-lg p-4">
                    <div class="flex items-start">
                      <div class="w-8 h-8 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-sm font-bold mr-3 mt-1">4</div>
                      <div class="flex-1">
                        <p class="text-sm font-medium text-gray-800 mb-1">なぜスケジュールが重複しているのか？</p>
                        <textarea rows="2" class="w-full px-3 py-2 border border-gray-300 rounded-md text-sm" placeholder="原因を記述...">システム導入時に適切な負荷分散が考慮されていなかった</textarea>
                      </div>
                    </div>
                  </div>
                  <div class="border border-gray-200 rounded-lg p-4">
                    <div class="flex items-start">
                      <div class="w-8 h-8 bg-green-100 text-green-600 rounded-full flex items-center justify-center text-sm font-bold mr-3 mt-1">5</div>
                      <div class="flex-1">
                        <p class="text-sm font-medium text-gray-800 mb-1">なぜ負荷分散が考慮されていなかったのか？</p>
                        <textarea rows="2" class="w-full px-3 py-2 border border-gray-300 rounded-md text-sm" placeholder="原因を記述...">運用開始後の業務量増加を予測した設計になっていなかった</textarea>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- 根本原因と対策 -->
              <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                <div>
                  <h3 class="text-md font-medium text-gray-800 mb-3">根本原因</h3>
                  <div class="border border-red-200 bg-red-50 rounded-lg p-4">
                    <textarea rows="4" class="w-full px-3 py-2 border border-red-300 rounded-md text-sm" placeholder="根本原因を記述...">システム設計時に将来の業務量拡大と定期処理の負荷を適切に見積もっていなかったため、リソース競合が発生している。また、定期処理のスケジューリングにおいて負荷分散の考慮が不足していた。</textarea>
                  </div>
                </div>
                <div>
                  <h3 class="text-md font-medium text-gray-800 mb-3">是正措置</h3>
                  <div class="border border-green-200 bg-green-50 rounded-lg p-4">
                    <textarea rows="4" class="w-full px-3 py-2 border border-green-300 rounded-md text-sm" placeholder="是正措置を記述...">1. バックアップ処理を夜間に移動
2. 統計処理を分散実行に変更
3. リソース監視アラート設定
4. 負荷テストの定期実施
5. キャパシティプランニングプロセスの確立</textarea>
                  </div>
                </div>
              </div>

              <!-- 予防措置 -->
              <div class="mb-6">
                <h3 class="text-md font-medium text-gray-800 mb-3">予防措置</h3>
                <div class="border border-blue-200 bg-blue-50 rounded-lg p-4">
                  <textarea rows="3" class="w-full px-3 py-2 border border-blue-300 rounded-md text-sm" placeholder="今後の予防措置を記述...">新システム導入時には必ず負荷テストを実施し、運用開始後の業務量増加を考慮した設計を行う。また、定期処理スケジュールの見直しを四半期ごとに実施する。</textarea>
                </div>
              </div>

              <!-- アクションプラン -->
              <div class="mb-6">
                <h3 class="text-md font-medium text-gray-800 mb-3">アクションプラン</h3>
                <div class="space-y-3">
                  <div class="flex items-center p-3 border border-gray-200 rounded-lg">
                    <input type="checkbox" class="mr-3">
                    <div class="flex-1">
                      <span class="text-sm font-medium text-gray-800">バックアップスケジュール変更</span>
                      <div class="text-xs text-gray-500">担当: IT運用チーム | 期限: 2024/06/20</div>
                    </div>
                    <span class="px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800">進行中</span>
                  </div>
                  <div class="flex items-center p-3 border border-gray-200 rounded-lg">
                    <input type="checkbox" class="mr-3">
                    <div class="flex-1">
                      <span class="text-sm font-medium text-gray-800">リソース監視設定</span>
                      <div class="text-xs text-gray-500">担当: インフラチーム | 期限: 2024/06/25</div>
                    </div>
                    <span class="px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800">未着手</span>
                  </div>
                  <div class="flex items-center p-3 border border-gray-200 rounded-lg">
                    <input type="checkbox" checked class="mr-3">
                    <div class="flex-1">
                      <span class="text-sm font-medium text-gray-800">根本原因分析完了</span>
                      <div class="text-xs text-gray-500">担当: 問題管理担当者 | 期限: 2024/06/15</div>
                    </div>
                    <span class="px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800">完了</span>
                  </div>
                </div>
              </div>

              <div class="flex justify-end space-x-3">
                <button type="button" class="px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50">下書き保存</button>
                <button type="button" class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700">レビュー依頼</button>
                <button type="button" class="px-4 py-2 bg-orange-600 text-white rounded-md hover:bg-orange-700">分析完了</button>
              </div>
            </div>
          </div>
        `
      },
      
      // === System Settings Features ===
      'settings-system': {
        title: 'システム設定 - システム設定',
        content: `
          <div class="max-w-4xl mx-auto">
            <div class="space-y-6">
              
              <!-- 基本設定 -->
              <div class="bg-white rounded-lg shadow p-6">
                <h2 class="text-lg font-semibold text-gray-800 mb-4">基本システム設定</h2>
                <div class="space-y-4">
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-1">システム名</label>
                      <input type="text" value="ITSM運用システムプラットフォーム" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-1">組織名</label>
                      <input type="text" value="株式会社サンプル" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                  </div>
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-1">タイムゾーン</label>
                      <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <option>Asia/Tokyo (UTC+9)</option>
                        <option>Asia/Seoul (UTC+9)</option>
                        <option>UTC (UTC+0)</option>
                      </select>
                    </div>
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-1">言語設定</label>
                      <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <option>日本語</option>
                        <option>English</option>
                        <option>한국어</option>
                      </select>
                    </div>
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">システム説明</label>
                    <textarea rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">IT資産管理・インシデント管理・サービス要求を統合したITSM準拠の運用システムプラットフォームです。</textarea>
                  </div>
                </div>
              </div>

              <!-- セキュリティ設定 -->
              <div class="bg-white rounded-lg shadow p-6">
                <h2 class="text-lg font-semibold text-gray-800 mb-4">セキュリティ設定</h2>
                <div class="space-y-4">
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-1">セッションタイムアウト（分）</label>
                      <input type="number" value="30" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-1">パスワード最小文字数</label>
                      <input type="number" value="8" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                  </div>
                  <div class="space-y-3">
                    <div class="flex items-center">
                      <input type="checkbox" checked class="mr-3">
                      <label class="text-sm text-gray-700">パスワードに英数字混在を必須とする</label>
                    </div>
                    <div class="flex items-center">
                      <input type="checkbox" checked class="mr-3">
                      <label class="text-sm text-gray-700">パスワードに特殊文字を必須とする</label>
                    </div>
                    <div class="flex items-center">
                      <input type="checkbox" class="mr-3">
                      <label class="text-sm text-gray-700">2要素認証を有効にする</label>
                    </div>
                    <div class="flex items-center">
                      <input type="checkbox" checked class="mr-3">
                      <label class="text-sm text-gray-700">ログイン試行回数制限を有効にする</label>
                    </div>
                  </div>
                </div>
              </div>

              <!-- 通知設定 -->
              <div class="bg-white rounded-lg shadow p-6">
                <h2 class="text-lg font-semibold text-gray-800 mb-4">通知設定</h2>
                <div class="space-y-4">
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-1">SMTPサーバー</label>
                      <input type="text" value="smtp.company.com" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-1">SMTPポート</label>
                      <input type="number" value="587" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                  </div>
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-1">送信者メールアドレス</label>
                      <input type="email" value="noreply@company.com" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-1">送信者名</label>
                      <input type="text" value="ITSM System" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                  </div>
                  <div class="space-y-3">
                    <div class="flex items-center justify-between p-3 border border-gray-200 rounded-lg">
                      <div>
                        <span class="text-sm font-medium text-gray-800">新規インシデント通知</span>
                        <div class="text-xs text-gray-500">新しいインシデントが作成された時に通知</div>
                      </div>
                      <input type="checkbox" checked class="ml-3">
                    </div>
                    <div class="flex items-center justify-between p-3 border border-gray-200 rounded-lg">
                      <div>
                        <span class="text-sm font-medium text-gray-800">SLA違反アラート</span>
                        <div class="text-xs text-gray-500">SLA期限が近づいている時に通知</div>
                      </div>
                      <input type="checkbox" checked class="ml-3">
                    </div>
                    <div class="flex items-center justify-between p-3 border border-gray-200 rounded-lg">
                      <div>
                        <span class="text-sm font-medium text-gray-800">承認待ち要求通知</span>
                        <div class="text-xs text-gray-500">承認が必要なサービス要求がある時に通知</div>
                      </div>
                      <input type="checkbox" checked class="ml-3">
                    </div>
                    <div class="flex items-center justify-between p-3 border border-gray-200 rounded-lg">
                      <div>
                        <span class="text-sm font-medium text-gray-800">システムメンテナンス通知</span>
                        <div class="text-xs text-gray-500">定期メンテナンス前に事前通知</div>
                      </div>
                      <input type="checkbox" class="ml-3">
                    </div>
                  </div>
                </div>
              </div>

              <!-- データベース設定 -->
              <div class="bg-white rounded-lg shadow p-6">
                <h2 class="text-lg font-semibold text-gray-800 mb-4">データベース設定</h2>
                <div class="space-y-4">
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-1">データベースタイプ</label>
                      <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <option>SQLite</option>
                        <option>MySQL</option>
                        <option>PostgreSQL</option>
                        <option>SQL Server</option>
                      </select>
                    </div>
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-1">バックアップ頻度</label>
                      <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <option>毎日</option>
                        <option>毎週</option>
                        <option>毎月</option>
                        <option>手動</option>
                      </select>
                    </div>
                  </div>
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-1">保存期間（日）</label>
                      <input type="number" value="365" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-1">圧縮レベル</label>
                      <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <option>なし</option>
                        <option>標準</option>
                        <option>最大</option>
                      </select>
                    </div>
                  </div>
                  <div class="bg-green-50 border border-green-200 rounded-lg p-3">
                    <div class="flex items-center">
                      <svg class="w-5 h-5 text-green-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                      </svg>
                      <span class="text-sm text-green-800">データベース接続: 正常</span>
                    </div>
                    <div class="text-xs text-green-700 mt-1">最終バックアップ: 2024年6月15日 02:00</div>
                  </div>
                </div>
              </div>

              <!-- 統合設定 -->
              <div class="bg-white rounded-lg shadow p-6">
                <h2 class="text-lg font-semibold text-gray-800 mb-4">外部システム統合</h2>
                <div class="space-y-4">
                  <div class="border border-gray-200 rounded-lg p-4">
                    <div class="flex items-center justify-between mb-3">
                      <h3 class="text-md font-medium text-gray-800">Microsoft Active Directory</h3>
                      <span class="px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800">接続中</span>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                      <div>
                        <label class="block text-sm text-gray-600 mb-1">サーバーURL</label>
                        <input type="text" value="ldap://ad.company.com" class="w-full px-2 py-1 border border-gray-300 rounded text-sm">
                      </div>
                      <div>
                        <label class="block text-sm text-gray-600 mb-1">ベースDN</label>
                        <input type="text" value="DC=company,DC=com" class="w-full px-2 py-1 border border-gray-300 rounded text-sm">
                      </div>
                    </div>
                  </div>
                  
                  <div class="border border-gray-200 rounded-lg p-4">
                    <div class="flex items-center justify-between mb-3">
                      <h3 class="text-md font-medium text-gray-800">Slack統合</h3>
                      <span class="px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800">未接続</span>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                      <div>
                        <label class="block text-sm text-gray-600 mb-1">Webhook URL</label>
                        <input type="text" placeholder="https://hooks.slack.com/..." class="w-full px-2 py-1 border border-gray-300 rounded text-sm">
                      </div>
                      <div>
                        <label class="block text-sm text-gray-600 mb-1">チャンネル</label>
                        <input type="text" placeholder="#itsm-alerts" class="w-full px-2 py-1 border border-gray-300 rounded text-sm">
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- 保存ボタン -->
              <div class="flex justify-end space-x-3">
                <button type="button" class="px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50">キャンセル</button>
                <button type="button" class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700">設定を保存</button>
                <button type="button" class="px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700">接続テスト</button>
              </div>
            </div>
          </div>
        `
      },
      
      // === ユーザー関連ページ ===
      'user-profile': {
        title: 'ユーザープロフィール',
        content: `
          <div class="max-w-2xl mx-auto">
            <div class="bg-white rounded-lg shadow p-6">
              <div class="flex items-center space-x-4 mb-6">
                <div class="w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center">
                  <svg class="w-10 h-10 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                  </svg>
                </div>
                <div>
                  <h2 class="text-xl font-semibold text-gray-800">システム管理者</h2>
                  <p class="text-gray-600">admin@company.com</p>
                  <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800">
                    <span class="w-2 h-2 bg-green-400 rounded-full mr-1"></span>
                    オンライン
                  </span>
                </div>
              </div>
              
              <div class="space-y-4">
                <div class="grid grid-cols-2 gap-4">
                  <div>
                    <label class="block text-sm font-medium text-gray-700">姓名</label>
                    <p class="text-sm text-gray-900">管理者 太郎</p>
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700">部署</label>
                    <p class="text-sm text-gray-900">IT部門</p>
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700">役職</label>
                    <p class="text-sm text-gray-900">システム管理者</p>
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700">内線番号</label>
                    <p class="text-sm text-gray-900">1234</p>
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700">最終ログイン</label>
                    <p class="text-sm text-gray-900">2024年6月15日 09:30</p>
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700">権限</label>
                    <span class="px-2 py-1 text-xs rounded-full bg-red-100 text-red-800">管理者</span>
                  </div>
                </div>
                
                <div class="pt-4 border-t border-gray-200">
                  <h3 class="text-lg font-medium text-gray-800 mb-3">活動統計</h3>
                  <div class="grid grid-cols-2 gap-4">
                    <div class="text-center p-3 bg-gray-50 rounded-lg">
                      <p class="text-2xl font-semibold text-blue-600">47</p>
                      <p class="text-sm text-gray-600">処理したインシデント</p>
                    </div>
                    <div class="text-center p-3 bg-gray-50 rounded-lg">
                      <p class="text-2xl font-semibold text-green-600">23</p>
                      <p class="text-sm text-gray-600">承認したサービス要求</p>
                    </div>
                  </div>
                </div>
                
                <div class="flex justify-end space-x-3 pt-4">
                  <button class="px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50">プロフィール編集</button>
                  <button class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700">パスワード変更</button>
                </div>
              </div>
            </div>
          </div>
        `
      },
      
      'user-settings': {
        title: '個人設定',
        content: `
          <div class="max-w-2xl mx-auto">
            <div class="space-y-6">
              <!-- 表示設定 -->
              <div class="bg-white rounded-lg shadow p-6">
                <h2 class="text-lg font-semibold text-gray-800 mb-4">表示設定</h2>
                <div class="space-y-4">
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">言語</label>
                    <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                      <option>日本語</option>
                      <option>English</option>
                      <option>한국어</option>
                    </select>
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">タイムゾーン</label>
                    <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                      <option>Asia/Tokyo (UTC+9)</option>
                      <option>Asia/Seoul (UTC+9)</option>
                      <option>UTC (UTC+0)</option>
                    </select>
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">日時形式</label>
                    <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                      <option>YYYY/MM/DD HH:MM</option>
                      <option>DD/MM/YYYY HH:MM</option>
                      <option>MM/DD/YYYY HH:MM</option>
                    </select>
                  </div>
                </div>
              </div>

              <!-- 通知設定 -->
              <div class="bg-white rounded-lg shadow p-6">
                <h2 class="text-lg font-semibold text-gray-800 mb-4">通知設定</h2>
                <div class="space-y-3">
                  <div class="flex items-center justify-between">
                    <div>
                      <span class="text-sm font-medium text-gray-800">新規インシデント通知</span>
                      <div class="text-xs text-gray-500">新しいインシデントが作成された時</div>
                    </div>
                    <input type="checkbox" checked class="rounded">
                  </div>
                  <div class="flex items-center justify-between">
                    <div>
                      <span class="text-sm font-medium text-gray-800">担当インシデント更新</span>
                      <div class="text-xs text-gray-500">自分が担当するインシデントが更新された時</div>
                    </div>
                    <input type="checkbox" checked class="rounded">
                  </div>
                  <div class="flex items-center justify-between">
                    <div>
                      <span class="text-sm font-medium text-gray-800">承認待ち要求</span>
                      <div class="text-xs text-gray-500">承認が必要なサービス要求がある時</div>
                    </div>
                    <input type="checkbox" checked class="rounded">
                  </div>
                  <div class="flex items-center justify-between">
                    <div>
                      <span class="text-sm font-medium text-gray-800">システムメンテナンス</span>
                      <div class="text-xs text-gray-500">定期メンテナンスの事前通知</div>
                    </div>
                    <input type="checkbox" class="rounded">
                  </div>
                  <div class="flex items-center justify-between">
                    <div>
                      <span class="text-sm font-medium text-gray-800">メール通知</span>
                      <div class="text-xs text-gray-500">重要な通知をメールでも受信</div>
                    </div>
                    <input type="checkbox" checked class="rounded">
                  </div>
                </div>
              </div>

              <!-- セキュリティ設定 -->
              <div class="bg-white rounded-lg shadow p-6">
                <h2 class="text-lg font-semibold text-gray-800 mb-4">セキュリティ設定</h2>
                <div class="space-y-4">
                  <div>
                    <button class="w-full text-left p-3 border border-gray-200 rounded-lg hover:bg-gray-50">
                      <div class="flex items-center justify-between">
                        <div>
                          <span class="text-sm font-medium text-gray-800">パスワード変更</span>
                          <div class="text-xs text-gray-500">最終変更: 2024年6月1日</div>
                        </div>
                        <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                      </div>
                    </button>
                  </div>
                  <div>
                    <button class="w-full text-left p-3 border border-gray-200 rounded-lg hover:bg-gray-50">
                      <div class="flex items-center justify-between">
                        <div>
                          <span class="text-sm font-medium text-gray-800">2要素認証</span>
                          <div class="text-xs text-gray-500">追加のセキュリティレイヤー</div>
                        </div>
                        <span class="px-2 py-1 text-xs rounded-full bg-gray-100 text-gray-800">未設定</span>
                      </div>
                    </button>
                  </div>
                  <div>
                    <button class="w-full text-left p-3 border border-gray-200 rounded-lg hover:bg-gray-50">
                      <div class="flex items-center justify-between">
                        <div>
                          <span class="text-sm font-medium text-gray-800">ログイン履歴</span>
                          <div class="text-xs text-gray-500">アカウントアクセス履歴を確認</div>
                        </div>
                        <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                      </div>
                    </button>
                  </div>
                </div>
              </div>

              <div class="flex justify-end space-x-3">
                <button class="px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50">リセット</button>
                <button class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700">設定を保存</button>
              </div>
            </div>
          </div>
        `
      },
      
      'help-guide': {
        title: 'ヘルプガイド',
        content: `
          <div class="max-w-4xl mx-auto">
            <div class="space-y-6">
              <!-- 検索ボックス -->
              <div class="bg-white rounded-lg shadow p-6">
                <div class="relative">
                  <input type="text" placeholder="ヘルプを検索..." class="w-full px-4 py-3 pl-12 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                  <svg class="w-6 h-6 text-gray-400 absolute left-3 top-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                  </svg>
                </div>
              </div>

              <!-- よくある質問 -->
              <div class="bg-white rounded-lg shadow p-6">
                <h2 class="text-lg font-semibold text-gray-800 mb-4">よくある質問</h2>
                <div class="space-y-3">
                  <details class="border border-gray-200 rounded-lg">
                    <summary class="px-4 py-3 cursor-pointer hover:bg-gray-50 font-medium text-gray-800">
                      新規インシデントの作成方法は？
                    </summary>
                    <div class="px-4 pb-3 text-sm text-gray-600">
                      <p>1. サイドバーの「インシデント管理」をクリック</p>
                      <p>2. 「新規インシデント」ボタンをクリック</p>
                      <p>3. 必要な情報を入力してフォームを送信</p>
                    </div>
                  </details>
                  
                  <details class="border border-gray-200 rounded-lg">
                    <summary class="px-4 py-3 cursor-pointer hover:bg-gray-50 font-medium text-gray-800">
                      資産情報の更新方法は？
                    </summary>
                    <div class="px-4 pb-3 text-sm text-gray-600">
                      <p>1. 「資産管理」→「資産一覧」へ移動</p>
                      <p>2. 更新したい資産の「編集」をクリック</p>
                      <p>3. 必要な情報を更新して保存</p>
                    </div>
                  </details>
                  
                  <details class="border border-gray-200 rounded-lg">
                    <summary class="px-4 py-3 cursor-pointer hover:bg-gray-50 font-medium text-gray-800">
                      パスワードのリセット方法は？
                    </summary>
                    <div class="px-4 pb-3 text-sm text-gray-600">
                      <p>1. 右上のユーザーアイコンをクリック</p>
                      <p>2. 「個人設定」を選択</p>
                      <p>3. セキュリティ設定から「パスワード変更」をクリック</p>
                    </div>
                  </details>
                  
                  <details class="border border-gray-200 rounded-lg">
                    <summary class="px-4 py-3 cursor-pointer hover:bg-gray-50 font-medium text-gray-800">
                      AI検索の使い方は？
                    </summary>
                    <div class="px-4 pb-3 text-sm text-gray-600">
                      <p>1. 「ナレッジ管理」→「AI検索」へ移動</p>
                      <p>2. 自然言語で質問を入力（例：「メールが送信できない」）</p>
                      <p>3. AI検索ボタンをクリックして結果を確認</p>
                    </div>
                  </details>
                </div>
              </div>

              <!-- カテゴリ別ヘルプ -->
              <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="bg-white rounded-lg shadow p-6">
                  <h3 class="text-md font-semibold text-gray-800 mb-3">基本操作</h3>
                  <ul class="space-y-2 text-sm text-gray-600">
                    <li><a href="#" class="hover:text-blue-600">ダッシュボードの見方</a></li>
                    <li><a href="#" class="hover:text-blue-600">メニューの使い方</a></li>
                    <li><a href="#" class="hover:text-blue-600">検索とフィルタ機能</a></li>
                    <li><a href="#" class="hover:text-blue-600">通知の管理</a></li>
                  </ul>
                </div>
                
                <div class="bg-white rounded-lg shadow p-6">
                  <h3 class="text-md font-semibold text-gray-800 mb-3">インシデント管理</h3>
                  <ul class="space-y-2 text-sm text-gray-600">
                    <li><a href="#" class="hover:text-blue-600">インシデントの作成</a></li>
                    <li><a href="#" class="hover:text-blue-600">優先度の設定</a></li>
                    <li><a href="#" class="hover:text-blue-600">ステータスの更新</a></li>
                    <li><a href="#" class="hover:text-blue-600">エスカレーション</a></li>
                  </ul>
                </div>
                
                <div class="bg-white rounded-lg shadow p-6">
                  <h3 class="text-md font-semibold text-gray-800 mb-3">資産管理</h3>
                  <ul class="space-y-2 text-sm text-gray-600">
                    <li><a href="#" class="hover:text-blue-600">資産の登録</a></li>
                    <li><a href="#" class="hover:text-blue-600">資産タグの管理</a></li>
                    <li><a href="#" class="hover:text-blue-600">メンテナンス記録</a></li>
                    <li><a href="#" class="hover:text-blue-600">レポート出力</a></li>
                  </ul>
                </div>
                
                <div class="bg-white rounded-lg shadow p-6">
                  <h3 class="text-md font-semibold text-gray-800 mb-3">システム設定</h3>
                  <ul class="space-y-2 text-sm text-gray-600">
                    <li><a href="#" class="hover:text-blue-600">ユーザー管理</a></li>
                    <li><a href="#" class="hover:text-blue-600">権限設定</a></li>
                    <li><a href="#" class="hover:text-blue-600">通知設定</a></li>
                    <li><a href="#" class="hover:text-blue-600">バックアップ設定</a></li>
                  </ul>
                </div>
              </div>

              <!-- サポート情報 -->
              <div class="bg-white rounded-lg shadow p-6">
                <h2 class="text-lg font-semibold text-gray-800 mb-4">サポート情報</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                  <div class="text-center p-4 border border-gray-200 rounded-lg">
                    <svg class="w-8 h-8 text-blue-600 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                    </svg>
                    <h3 class="font-medium text-gray-800 mb-1">メールサポート</h3>
                    <p class="text-sm text-gray-600">support@company.com</p>
                  </div>
                  
                  <div class="text-center p-4 border border-gray-200 rounded-lg">
                    <svg class="w-8 h-8 text-green-600 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
                    </svg>
                    <h3 class="font-medium text-gray-800 mb-1">電話サポート</h3>
                    <p class="text-sm text-gray-600">内線: 9999</p>
                  </div>
                  
                  <div class="text-center p-4 border border-gray-200 rounded-lg">
                    <svg class="w-8 h-8 text-purple-600 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                    </svg>
                    <h3 class="font-medium text-gray-800 mb-1">ユーザーマニュアル</h3>
                    <p class="text-sm text-gray-600"><a href="#" class="text-blue-600 hover:underline">PDFダウンロード</a></p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        `
      },
      
      // === 新規追加モーダル ===
      'new-user': {
        title: '新規ユーザー登録',
        content: `
          <div class="max-w-2xl mx-auto">
            <div class="bg-white rounded-lg shadow p-6">
              <h2 class="text-lg font-semibold text-gray-800 mb-6">新規ユーザー登録</h2>
              <form class="space-y-4">
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">ユーザー名</label>
                  <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md" placeholder="ユーザー名を入力">
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">メールアドレス</label>
                  <input type="email" class="w-full px-3 py-2 border border-gray-300 rounded-md" placeholder="email@company.com">
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">権限</label>
                  <select class="w-full px-3 py-2 border border-gray-300 rounded-md">
                    <option>管理者</option>
                    <option>オペレーター</option>
                    <option>閲覧のみ</option>
                  </select>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">部署</label>
                  <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md" placeholder="IT部">
                </div>
                <div class="flex justify-end space-x-3">
                  <button type="button" class="px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50">キャンセル</button>
                  <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700">登録</button>
                </div>
              </form>
            </div>
          </div>
        `
      },
      
      'problem-new': {
        title: '新規問題登録',
        content: `
          <div class="max-w-4xl mx-auto">
            <div class="bg-white rounded-lg shadow p-6">
              <h2 class="text-lg font-semibold text-gray-800 mb-6">新規問題登録</h2>
              <form class="space-y-6">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">問題タイトル <span class="text-red-500">*</span></label>
                    <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500" placeholder="問題のタイトルを入力">
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">優先度</label>
                    <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500">
                      <option>低</option>
                      <option>中</option>
                      <option>高</option>
                      <option>緊急</option>
                    </select>
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">関連インシデント数</label>
                    <input type="number" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500" placeholder="0">
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">担当者</label>
                    <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500">
                      <option>未割当</option>
                      <option>田中一郎</option>
                      <option>佐藤花子</option>
                    </select>
                  </div>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">問題の詳細 <span class="text-red-500">*</span></label>
                  <textarea rows="4" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500" placeholder="問題の詳細を入力"></textarea>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">ビジネスへの影響</label>
                  <textarea rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500" placeholder="ビジネスへの影響を記述"></textarea>
                </div>
                <div class="flex justify-end space-x-3">
                  <button type="button" class="px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50">キャンセル</button>
                  <button type="submit" class="px-4 py-2 bg-orange-600 text-white rounded-md hover:bg-orange-700">登録</button>
                </div>
              </form>
            </div>
          </div>
        `
      },
      
      'user-management': {
        title: 'ユーザー管理',
        content: `
          <div class="max-w-6xl mx-auto">
            <div class="bg-white rounded-lg shadow p-6">
              <div class="flex items-center justify-between mb-6">
                <h2 class="text-lg font-semibold text-gray-800">ユーザー管理</h2>
                <button onclick="createNewUser()" class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700">新規ユーザー</button>
              </div>
              <div class="space-y-4">
                <div class="border border-gray-200 rounded-lg p-4">
                  <div class="flex items-center justify-between">
                    <div>
                      <h3 class="font-medium text-gray-900">田中一郎</h3>
                      <p class="text-sm text-gray-600">管理者 | tanaka@company.com</p>
                    </div>
                    <div class="flex space-x-2">
                      <button onclick="editUser('tanaka')" class="px-3 py-1 bg-gray-600 text-white text-sm rounded hover:bg-gray-700">編集</button>
                      <button onclick="deactivateUser('tanaka')" class="px-3 py-1 bg-red-600 text-white text-sm rounded hover:bg-red-700">無効化</button>
                    </div>
                  </div>
                </div>
                <div class="border border-gray-200 rounded-lg p-4">
                  <div class="flex items-center justify-between">
                    <div>
                      <h3 class="font-medium text-gray-900">佐藤花子</h3>
                      <p class="text-sm text-gray-600">オペレーター | sato@company.com</p>
                    </div>
                    <div class="flex space-x-2">
                      <button onclick="editUser('sato')" class="px-3 py-1 bg-gray-600 text-white text-sm rounded hover:bg-gray-700">編集</button>
                      <button onclick="deactivateUser('sato')" class="px-3 py-1 bg-red-600 text-white text-sm rounded hover:bg-red-700">無効化</button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        `
      },
      
      'permission-settings': {
        title: '権限設定',
        content: `
          <div class="max-w-4xl mx-auto">
            <div class="bg-white rounded-lg shadow p-6">
              <div class="flex items-center justify-between mb-6">
                <h2 class="text-lg font-semibold text-gray-800">権限設定</h2>
                <button onclick="savePermissionSettings()" class="px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700">設定保存</button>
              </div>
              <div class="space-y-6">
                <div class="border border-gray-200 rounded-lg p-4">
                  <h3 class="font-medium text-gray-800 mb-4">管理者権限</h3>
                  <div class="space-y-2">
                    <label class="flex items-center"><input type="checkbox" checked class="mr-2">ユーザー管理</label>
                    <label class="flex items-center"><input type="checkbox" checked class="mr-2">システム設定</label>
                    <label class="flex items-center"><input type="checkbox" checked class="mr-2">監査ログ閲覧</label>
                  </div>
                </div>
                <div class="border border-gray-200 rounded-lg p-4">
                  <h3 class="font-medium text-gray-800 mb-4">オペレーター権限</h3>
                  <div class="space-y-2">
                    <label class="flex items-center"><input type="checkbox" checked class="mr-2">インシデント管理</label>
                    <label class="flex items-center"><input type="checkbox" checked class="mr-2">資産管理</label>
                    <label class="flex items-center"><input type="checkbox" class="mr-2">ユーザー作成</label>
                  </div>
                </div>
              </div>
            </div>
          </div>
        `
      },
      
      'system-settings': {
        title: 'システム設定',
        content: `
          <div class="max-w-4xl mx-auto">
            <div class="bg-white rounded-lg shadow p-6">
              <div class="flex items-center justify-between mb-6">
                <h2 class="text-lg font-semibold text-gray-800">システム設定</h2>
                <div class="flex space-x-2">
                  <button onclick="testConnection()" class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700">接続テスト</button>
                  <button onclick="saveSystemSettings()" class="px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700">設定保存</button>
                </div>
              </div>
              <form id="system-settings-form" class="space-y-6">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">データベースURL</label>
                    <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md" value="localhost:3306">
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">メールサーバー</label>
                    <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md" value="mail.company.com">
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">システム名</label>
                    <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md" value="ITSM運用システム">
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">タイムゾーン</label>
                    <select class="w-full px-3 py-2 border border-gray-300 rounded-md">
                      <option>Asia/Tokyo</option>
                      <option>UTC</option>
                    </select>
                  </div>
                </div>
                <div id="connection-test-result" class="p-4 bg-gray-50 rounded border"></div>
              </form>
            </div>
          </div>
        `
      }
    };

    // コンテンツ表示機能
    function showContent(contentKey) {
      const data = contentData[contentKey];
      if (data) {
        document.getElementById('page-title').textContent = data.title;
        document.getElementById('main-content').innerHTML = data.content;
        
        // メニューのアクティブ状態を更新
        updateActiveMenu(contentKey);
      }
    }

    // アクティブメニューの更新
    function updateActiveMenu(contentKey) {
      // 全メニューからアクティブクラスを削除
      document.querySelectorAll('nav a, nav button').forEach(el => {
        el.classList.remove('bg-blue-100', 'text-blue-700', 'font-medium');
      });
      
      // サブメニューのアクティブ状態更新
      const link = document.querySelector(`[onclick="showContent('${contentKey}')"]`);
      if (link) {
        link.classList.add('bg-blue-100', 'text-blue-700', 'font-medium');
      }
    }

    // アコーディオンの開閉制御
    function toggleAccordion(name) {
      const content = document.getElementById(`accordion-${name}`);
      const chevron = document.getElementById(`chevron-${name}`);
      
      content.classList.toggle('active');
      chevron.classList.toggle('rotate');
    }
    
    // サイドバーの表示/非表示（モバイル）
    function toggleSidebar() {
      const sidebar = document.getElementById('sidebar');
      const overlay = document.getElementById('overlay');
      
      sidebar.classList.toggle('hidden-mobile');
      overlay.classList.toggle('hidden');
    }
    
    // === ユーザーメニュー関連機能 ===
    
    // ユーザーメニューの開閉
    function toggleUserMenu() {
      const userMenu = document.getElementById('user-menu');
      userMenu.classList.toggle('hidden');
      
      // 他のメニューを閉じる
      document.getElementById('notifications-panel').classList.add('hidden');
    }
    
    // 通知パネルの開閉
    function toggleNotifications() {
      const notificationsPanel = document.getElementById('notifications-panel');
      notificationsPanel.classList.toggle('hidden');
      
      // 他のメニューを閉じる
      document.getElementById('user-menu').classList.add('hidden');
    }
    
    // プロフィール表示
    function showUserProfile() {
      document.getElementById('user-menu').classList.add('hidden');
      showContent('user-profile');
    }
    
    // 個人設定表示
    function showUserSettings() {
      document.getElementById('user-menu').classList.add('hidden');
      showContent('user-settings');
    }
    
    // ヘルプ表示
    function showHelp() {
      document.getElementById('user-menu').classList.add('hidden');
      showContent('help-guide');
    }
    
    // ログアウト処理
    function handleLogout() {
      if (confirm('ログアウトしますか？')) {
        // 実際のログアウト処理をここに実装
        alert('ログアウトしました。');
        // 例: window.location.href = '/login';
      }
    }
    
    // 通知をクリア
    function clearAllNotifications() {
      if (confirm('すべての通知をクリアしますか？')) {
        document.getElementById('notifications-panel').classList.add('hidden');
        // 通知バッジを更新
        document.querySelector('.bg-red-500').textContent = '0';
        alert('通知をクリアしました。');
      }
    }
    
    // === コンテンツ内のボタン機能 ===
    
    // モーダル表示機能
    function showModal(modalId) {
      const modal = document.getElementById(modalId);
      if (modal) {
        modal.classList.remove('hidden');
      } else {
        // モーダルが存在しない場合は動的に作成
        createDynamicModal(modalId);
      }
    }
    
    // モーダル非表示機能
    function hideModal(modalId) {
      const modal = document.getElementById(modalId);
      if (modal) {
        modal.classList.add('hidden');
      }
    }
    
    // 動的モーダル作成
    function createDynamicModal(type) {
      let title = '';
      let content = '';
      
      switch(type) {
        case 'asset-detail':
          title = '資産詳細';
          content = createAssetDetailContent();
          break;
        case 'incident-detail':
          title = 'インシデント詳細';
          content = createIncidentDetailContent();
          break;
        case 'new-asset':
          title = '新規資産登録';
          content = createNewAssetForm();
          break;
        case 'new-incident':
          title = '新規インシデント作成';
          content = createNewIncidentForm();
          break;
        case 'new-service-request':
          showContent('requests-new');
          return;
        case 'new-change-request':
          showContent('changes-new');
          return;
        case 'new-user':
        case 'problem-new':
        case 'user-management':
        case 'permission-settings':
        case 'system-settings':
          showContent(type);
          return;
        default:
          title = '詳細情報';
          content = '<p>詳細情報を読み込み中...</p>';
      }
      
      const modalHTML = `
        <div id="${type}-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center">
          <div class="bg-white rounded-lg shadow-xl max-w-2xl w-full m-4 max-h-[90vh] overflow-y-auto">
            <div class="p-6 border-b border-gray-200">
              <div class="flex items-center justify-between">
                <h3 class="text-xl font-semibold text-gray-800">${title}</h3>
                <button onclick="hideModal('${type}-modal')" class="text-gray-400 hover:text-gray-600">
                  <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                  </svg>
                </button>
              </div>
            </div>
            <div class="p-6">
              ${content}
            </div>
          </div>
        </div>
      `;
      
      document.body.insertAdjacentHTML('beforeend', modalHTML);
    }
    
    // 資産詳細コンテンツ生成
    function createAssetDetailContent() {
      return `
        <div class="space-y-4">
          <div class="grid grid-cols-2 gap-4">
            <div>
              <label class="block text-sm font-medium text-gray-700">資産タグ</label>
              <p class="text-sm text-gray-900">SRV-001</p>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700">資産名</label>
              <p class="text-sm text-gray-900">データベースサーバー #1</p>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700">種類</label>
              <p class="text-sm text-gray-900">Server</p>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700">ステータス</label>
              <span class="px-2 py-1 text-xs rounded-full bg-green-100 text-green-800">Active</span>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700">所有者</label>
              <p class="text-sm text-gray-900">IT部門</p>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700">場所</label>
              <p class="text-sm text-gray-900">データセンター A-12</p>
            </div>
          </div>
          <div class="flex justify-end space-x-3 mt-6">
            <button onclick="hideModal('asset-detail-modal')" class="px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50">閉じる</button>
            <button class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700">編集</button>
          </div>
        </div>
      `;
    }
    
    // インシデント詳細コンテンツ生成
    function createIncidentDetailContent() {
      return `
        <div class="space-y-4">
          <div class="grid grid-cols-2 gap-4">
            <div>
              <label class="block text-sm font-medium text-gray-700">インシデント番号</label>
              <p class="text-sm text-gray-900">INC-2024-0523</p>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700">優先度</label>
              <span class="px-2 py-1 text-xs rounded-full bg-red-100 text-red-800">Critical</span>
            </div>
            <div class="col-span-2">
              <label class="block text-sm font-medium text-gray-700">タイトル</label>
              <p class="text-sm text-gray-900">データベースサーバー応答遅延</p>
            </div>
            <div class="col-span-2">
              <label class="block text-sm font-medium text-gray-700">説明</label>
              <p class="text-sm text-gray-900">本番環境のデータベースサーバーで深刻な応答遅延が発生。全サービスに影響あり。</p>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700">担当者</label>
              <p class="text-sm text-gray-900">田中一郎</p>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700">ステータス</label>
              <span class="px-2 py-1 text-xs rounded-full bg-yellow-100 text-yellow-800">In Progress</span>
            </div>
          </div>
          <div class="flex justify-end space-x-3 mt-6">
            <button onclick="hideModal('incident-detail-modal')" class="px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50">閉じる</button>
            <button class="px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700">編集</button>
          </div>
        </div>
      `;
    }
    
    // 新規資産フォーム生成
    function createNewAssetForm() {
      return `
        <form class="space-y-4">
          <div class="grid grid-cols-2 gap-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">資産名 *</label>
              <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="資産名を入力">
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">種類 *</label>
              <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                <option>Server</option>
                <option>Desktop</option>
                <option>Laptop</option>
                <option>Network Equipment</option>
              </select>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">所有者</label>
              <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="所有者名">
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">場所</label>
              <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="設置場所">
            </div>
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">説明</label>
            <textarea rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="資産の詳細説明"></textarea>
          </div>
          <div class="flex justify-end space-x-3 mt-6">
            <button type="button" onclick="hideModal('new-asset-modal')" class="px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50">キャンセル</button>
            <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700">保存</button>
          </div>
        </form>
      `;
    }
    
    // 新規インシデントフォーム生成
    function createNewIncidentForm() {
      return `
        <form class="space-y-4">
          <div class="grid grid-cols-2 gap-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">タイトル *</label>
              <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500" placeholder="インシデントのタイトル">
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">優先度 *</label>
              <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500">
                <option>Low</option>
                <option>Medium</option>
                <option>High</option>
                <option>Critical</option>
              </select>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">報告者</label>
              <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500" placeholder="報告者名">
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">担当者</label>
              <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500" placeholder="担当者名">
            </div>
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">説明 *</label>
            <textarea rows="4" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500" placeholder="インシデントの詳細説明"></textarea>
          </div>
          <div class="flex justify-end space-x-3 mt-6">
            <button type="button" onclick="hideModal('new-incident-modal')" class="px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50">キャンセル</button>
            <button type="submit" class="px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700">作成</button>
          </div>
        </form>
      `;
    }
    
    // === 汎用的なアクション関数 ===
    
    // 詳細表示（汎用）
    function showDetails(type, id) {
      createDynamicModal(type + '-detail');
    }
    
    // 編集表示（汎用）
    function showEdit(type, id) {
      createDynamicModal('edit-' + type);
    }
    
    // 削除確認（汎用）
    function confirmDelete(type, id, name) {
      if (confirm(`${name}を削除しますか？この操作は取り消せません。`)) {
        alert(`${name}を削除しました。`);
        // 実際の削除処理をここに実装
      }
    }
    
    // 承認アクション
    function approveRequest(id) {
      if (confirm('このサービス要求を承認しますか？')) {
        alert('サービス要求を承認しました。');
        // 実際の承認処理をここに実装
      }
    }
    
    // 却下アクション
    function rejectRequest(id) {
      if (confirm('このサービス要求を却下しますか？')) {
        alert('サービス要求を却下しました。');
        // 実際の却下処理をここに実装
      }
    }
    
    // AI検索実行
    function executeAISearch() {
      const searchInput = document.getElementById('ai-search-input');
      const query = searchInput.value.trim();
      
      if (!query) {
        alert('検索クエリを入力してください。');
        return;
      }
      
      // 検索結果エリアを表示
      const resultsArea = document.getElementById('search-results');
      if (resultsArea) {
        resultsArea.classList.remove('hidden');
        // 実際のAI検索処理をここに実装
        alert(`AI検索を実行しました: "${query}"`);
      }
    }
    
    // フォーム送信処理（汎用）
    function submitForm(formType) {
      alert(`${formType}フォームを送信しました。`);
      // 実際のフォーム送信処理をここに実装
    }
    
    // 資産レポート生成
    function generateAssetReport() {
      const reportType = document.getElementById('report-type').value;
      const previewArea = document.getElementById('report-preview');
      
      // ダミーレポートデータ
      const reportData = {
        summary: {
          title: '資産総合サマリー',
          data: '総資産数: 1,247件\nアクティブ: 1,089件\nメンテナンス中: 87件\n廃棄済み: 71件'
        },
        category: {
          title: 'カテゴリ別統計',
          data: 'Server: 156件\nDesktop: 523件\nLaptop: 298件\nNetwork Equipment: 145件\nPrinter: 125件'
        },
        status: {
          title: 'ステータス別統計',
          data: 'Active: 87.3%\nMaintenance: 7.0%\nRetired: 5.7%'
        },
        lifecycle: {
          title: 'ライフサイクル分析',
          data: '平均利用期間: 4.2年\n更新予定（来年）: 234件\n保証期限切れ: 89件'
        }
      };
      
      const report = reportData[reportType];
      previewArea.innerHTML = `
        <div class="bg-white p-6 rounded border">
          <h3 class="text-lg font-semibold mb-4">${report.title}</h3>
          <pre class="text-sm text-gray-700 whitespace-pre-line">${report.data}</pre>
          <div class="mt-4 pt-4 border-t">
            <p class="text-xs text-gray-500">生成日時: ${new Date().toLocaleString('ja-JP')}</p>
          </div>
        </div>
      `;
    }
    
    // インシデント統計生成
    function generateIncidentStats() {
      const statsArea = document.getElementById('incident-stats-content');
      
      statsArea.innerHTML = `
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
          <div class="bg-white p-4 rounded-lg border text-center">
            <div class="text-2xl font-bold text-red-600">2</div>
            <div class="text-sm text-gray-600">Critical</div>
          </div>
          <div class="bg-white p-4 rounded-lg border text-center">
            <div class="text-2xl font-bold text-orange-600">7</div>
            <div class="text-sm text-gray-600">High</div>
          </div>
          <div class="bg-white p-4 rounded-lg border text-center">
            <div class="text-2xl font-bold text-yellow-600">28</div>
            <div class="text-sm text-gray-600">Medium</div>
          </div>
          <div class="bg-white p-4 rounded-lg border text-center">
            <div class="text-2xl font-bold text-blue-600">110</div>
            <div class="text-sm text-gray-600">Low</div>
          </div>
        </div>
        <div class="bg-white p-4 rounded-lg border">
          <h4 class="font-semibold mb-2">解決時間統計</h4>
          <div class="text-sm text-gray-700">
            <p>平均解決時間: 4.2時間</p>
            <p>SLA達成率: 94.5%</p>
            <p>今月の新規インシデント: 47件</p>
            <p>今月の解決済み: 52件</p>
          </div>
        </div>
      `;
    }
    
    // 承認待ちサービス要求一覧生成
    function generatePendingRequests() {
      const pendingArea = document.getElementById('pending-requests-content');
      
      pendingArea.innerHTML = `
        <div class="space-y-4">
          <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
            <div class="flex items-center justify-between">
              <div>
                <h4 class="font-medium text-gray-900">REQ-2024-1842 - 新規アカウント申請</h4>
                <p class="text-sm text-gray-600">申請者: 高橋花子 | 申請日: 2024/06/15</p>
              </div>
              <div class="flex space-x-2">
                <button onclick="approveRequest('REQ-2024-1842')" class="px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700">承認</button>
                <button onclick="rejectRequest('REQ-2024-1842')" class="px-3 py-1 bg-red-600 text-white text-sm rounded hover:bg-red-700">却下</button>
              </div>
            </div>
          </div>
          <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
            <div class="flex items-center justify-between">
              <div>
                <h4 class="font-medium text-gray-900">REQ-2024-1843 - ソフトウェアライセンス申請</h4>
                <p class="text-sm text-gray-600">申請者: 佐藤次郎 | 申請日: 2024/06/16</p>
              </div>
              <div class="flex space-x-2">
                <button onclick="approveRequest('REQ-2024-1843')" class="px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700">承認</button>
                <button onclick="rejectRequest('REQ-2024-1843')" class="px-3 py-1 bg-red-600 text-white text-sm rounded hover:bg-red-700">却下</button>
              </div>
            </div>
          </div>
        </div>
      `;
    }
    
    // ナレッジ管理 - AI検索機能
    function executeAIKnowledgeSearch() {
      const query = document.getElementById('ai-search-query').value;
      const resultsArea = document.getElementById('ai-search-results');
      
      if (!query.trim()) {
        alert('検索キーワードを入力してください');
        return;
      }
      
      // ダミー検索結果を表示
      resultsArea.innerHTML = `
        <div class="space-y-4">
          <div class="border border-blue-200 rounded-lg p-4 bg-blue-50">
            <h4 class="font-medium text-gray-900 mb-2">AI検索結果: "${query}"</h4>
            <div class="space-y-3">
              <div class="bg-white p-3 rounded border">
                <h5 class="font-medium text-sm">関連ナレッジ記事</h5>
                <p class="text-sm text-gray-600 mt-1">サーバーメンテナンス手順書 - サーバーの定期メンテナンス手順</p>
                <div class="text-xs text-gray-500 mt-2">マッチ度: 95% | 作成者: 田中一郎</div>
              </div>
              <div class="bg-white p-3 rounded border">
                <h5 class="font-medium text-sm">AI推奨ソリューション</h5>
                <p class="text-sm text-gray-600 mt-1">検索キーワードに基づいて、以下の対応を推奨します...</p>
                <div class="text-xs text-gray-500 mt-2">AI生成 | 信頼度: 87%</div>
              </div>
            </div>
            <div class="mt-4">
              <button onclick="updateKnowledgeFromAI()" class="px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700">ナレッジベースに追加</button>
            </div>
          </div>
        </div>
      `;
    }
    
    function updateKnowledgeFromAI() {
      // AI検索結果をナレッジベースに反映
      alert('AI検索結果がナレッジベースに反映されました。記事一覧で確認できます。');
      // 実際の実装では、ここでknowledge-listコンテンツに新しい記事を追加
    }
    
    function saveKnowledgeDraft() {
      alert('ナレッジ記事を下書き保存しました');
    }
    
    function generateProblemReport(problemId) {
      alert(`問題 ${problemId} のレポートを生成しました`);
    }
    
    // ユーザー操作
    function editUser(userId) {
      alert(`ユーザー ${userId} の編集機能を実装予定`);
    }
    
    function deactivateUser(userId) {
      if (confirm(`ユーザー ${userId} を無効化しますか？`)) {
        alert(`ユーザー ${userId} を無効化しました`);
      }
    }
    
    // 設定保存
    function savePermissionSettings() {
      alert('権限設定を保存しました');
    }
    
    function saveSystemSettings() {
      alert('システム設定を保存しました');
    }
    
    function clearSystemSettings() {
      if (confirm('設定をクリアしますか？')) {
        document.getElementById('system-settings-form').reset();
        alert('設定をクリアしました');
      }
    }
    
    function testConnection() {
      const testResult = document.getElementById('connection-test-result');
      testResult.innerHTML = '<div class="text-blue-600">接続テスト中...</div>';
      
      // ダミーテスト（2秒後に結果表示）
      setTimeout(() => {
        testResult.innerHTML = '<div class="text-green-600">✓ 接続テスト成功</div>';
      }, 2000);
    }
    
    // 根本原因分析機能
    function saveAnalysisDraft() {
      alert('分析内容を下書き保存しました');
    }
    
    function requestReview() {
      alert('レビュー依頼を送信しました');
    }
    
    function completeAnalysis() {
      if (confirm('分析を完了しますか？')) {
        alert('根本原因分析が完了しました');
      }
    }
    
    function generateAnalysisReport() {
      alert('分析レポートを生成しました');
    }
    
    // 新規機能実装
    function loadAnalysisTemplate() {
      alert('分析テンプレートを読み込みました。各フィールドがテンプレートで初期化されました。');
      // 実際の実装では、ここでフォームフィールドにテンプレートデータを設定
    }
    
    function createNewUser() {
      createDynamicModal('new-user');
    }
    
    function savePermissionSettings() {
      alert('権限設定を保存しました。設定がシステムに反映されました。');
      // 実際の実装では、ここで権限設定をサーバーに送信
    }
    
    function saveSystemSettings() {
      alert('システム設定を保存しました。設定がシステムに適用されました。');
      // 実際の実装では、ここでシステム設定をサーバーに送信
    }
    
    function testConnection() {
      const testResult = document.getElementById('connection-test-result');
      if (testResult) {
        testResult.innerHTML = '<div class="text-blue-600">接続テスト中...</div>';
        
        // ダミーテスト（2秒後に結果表示）
        setTimeout(() => {
          testResult.innerHTML = '<div class="text-green-600">✓ 接続テスト成功</div><div class="text-sm text-gray-600 mt-1">データベース: OK | APIサーバー: OK | メールサーバー: OK</div>';
        }, 2000);
      } else {
        alert('接続テストが完了しました。すべてのサービスが正常に動作しています。');
      }
    }
    
    // 外部クリック時にメニューを閉じる
    document.addEventListener('click', function(event) {
      const userMenu = document.getElementById('user-menu');
      const notificationsPanel = document.getElementById('notifications-panel');
      
      // ユーザーメニューとその親要素外をクリックした場合
      if (!event.target.closest('.relative') && !userMenu.classList.contains('hidden')) {
        userMenu.classList.add('hidden');
      }
      
      // 通知パネル外をクリックした場合
      if (!event.target.closest('#notifications-panel') && 
          !event.target.closest('[onclick="toggleNotifications()"]') && 
          !notificationsPanel.classList.contains('hidden')) {
        notificationsPanel.classList.add('hidden');
      }
    });

    // ページ読み込み時の初期設定
    document.addEventListener('DOMContentLoaded', function() {
      // デフォルトで資産管理アコーディオンを開く
      const assetsContent = document.getElementById('accordion-assets');
      const assetsChevron = document.getElementById('chevron-assets');
      
      assetsContent.classList.add('active');
      assetsChevron.classList.add('rotate');
      
      // デフォルトでダッシュボードを表示
      showContent('dashboard');
    });
  </script>
</body>
</html>