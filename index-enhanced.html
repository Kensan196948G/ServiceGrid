<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="ITSMÊ∫ñÊã†ITÈÅãÁî®„Ç∑„Çπ„ÉÜ„É†„Éó„É©„ÉÉ„Éà„Éï„Ç©„Éº„É† - ITIL„Éï„É¨„Éº„É†„ÉØ„Éº„ÇØÂØæÂøú„ÅÆÁµ±ÂêàITÈÅãÁî®ÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†">
  <meta name="keywords" content="ITSM, ITIL, ITÈÅãÁî®, „Ç§„É≥„Ç∑„Éá„É≥„ÉàÁÆ°ÁêÜ, Ë≥áÁî£ÁÆ°ÁêÜ, „Çµ„Éº„Éì„ÇπË¶ÅÊ±Ç">
  <title>ServiceGrid - ITSMÈÅãÁî®„Ç∑„Çπ„ÉÜ„É†„Éó„É©„ÉÉ„Éà„Éï„Ç©„Éº„É†</title>
  
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- React 17 (stable) -->
  <script crossorigin src="https://unpkg.com/react@17/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
  
  <!-- React Router DOM v5 (compatible with React 17) -->
  <script src="https://unpkg.com/react-router-dom@5.3.4/umd/react-router-dom.min.js"></script>
  
  <!-- Babel Standalone -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  
  <!-- Recharts for data visualization -->
  <script crossorigin src="https://unpkg.com/recharts@2.5.0/umd/Recharts.js"></script>
  
  <!-- Tailwind Configuration -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: {
              50: '#eff6ff',
              500: '#3b82f6',
              600: '#2563eb',
              700: '#1d4ed8'
            }
          }
        }
      }
    }
  </script>
  
  <style>
    .loading-spinner {
      border: 4px solid #f3f3f3;
      border-top: 4px solid #3498db;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      animation: spin 2s linear infinite;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    /* „Çπ„ÇØ„É≠„Éº„É´„Éê„Éº„Ç´„Çπ„Çø„Éû„Ç§„Ç∫ */
    .custom-scrollbar::-webkit-scrollbar {
      width: 6px;
    }
    .custom-scrollbar::-webkit-scrollbar-track {
      background: #f1f1f1;
    }
    .custom-scrollbar::-webkit-scrollbar-thumb {
      background: #888;
      border-radius: 3px;
    }
    .custom-scrollbar::-webkit-scrollbar-thumb:hover {
      background: #555;
    }
  </style>
</head>
<body class="bg-slate-100 font-sans antialiased">
  <div id="root"></div>
  
  <script type="text/babel">
    const { 
      useState, 
      useEffect, 
      useContext, 
      createContext, 
      useCallback, 
      useMemo, 
      memo,
      useRef
    } = React;
    
    const {
      BrowserRouter: Router,
      Switch,
      Route,
      Link,
      NavLink,
      useHistory,
      useLocation,
      Redirect
    } = ReactRouterDOM;
    
    // ==========================================
    // Constants & Types
    // ==========================================
    
    const APP_NAME = 'ServiceGrid ITSM Platform';
    
    const UserRole = {
      ADMIN: 'administrator',
      OPERATOR: 'operator', 
      USER: 'user',
      READ_ONLY: 'readonly'
    };
    
    const ItemStatus = {
      OPEN: 'Open',
      IN_PROGRESS: 'In Progress', 
      RESOLVED: 'Resolved',
      CLOSED: 'Closed',
      PENDING: 'Pending',
      APPROVED: 'Approved',
      REJECTED: 'Rejected',
      NEW: 'New',
      PENDING_APPROVAL: 'Pending Approval',
      SCHEDULED: 'Scheduled',
      IMPLEMENTED: 'Implemented',
      PLANNED: 'Planned',
      BUILDING: 'Building',
      TESTING: 'Testing',
      DEPLOYED: 'Deployed',
      ROLLED_BACK: 'Rolled Back'
    };
    
    // Navigation Items (15 ITSM Pages)
    const NAVIGATION_ITEMS = [
      { path: '/dashboard', label: '„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ', icon: 'üìä', description: '„Ç∑„Çπ„ÉÜ„É†Ê¶ÇË¶Å„Å®KPI' },
      { path: '/incidents', label: '„Ç§„É≥„Ç∑„Éá„É≥„ÉàÁÆ°ÁêÜ', icon: 'üö®', description: '„Ç§„É≥„Ç∑„Éá„É≥„Éà„É©„Ç§„Éï„Çµ„Ç§„ÇØ„É´ÁÆ°ÁêÜ' },
      { path: '/requests', label: '„Çµ„Éº„Éì„ÇπË¶ÅÊ±Ç', icon: 'üìù', description: '„É¶„Éº„Ç∂„ÉºÁî≥Ë´ã„ÉªË¶ÅÊ±ÇÁÆ°ÁêÜ' },
      { path: '/assets', label: 'Ë≥áÁî£ÁÆ°ÁêÜ', icon: 'üíª', description: 'ÊßãÊàêÁÆ°ÁêÜ„Éá„Éº„Çø„Éô„Éº„Çπ (CMDB)' },
      { path: '/change-management', label: 'Â§âÊõ¥ÁÆ°ÁêÜ', icon: 'üîÑ', description: 'Â§âÊõ¥Ë¶ÅÊ±Ç„ÉªÊâøË™ç„ÉØ„Éº„ÇØ„Éï„É≠„Éº' },
      { path: '/release-management', label: '„É™„É™„Éº„ÇπÁÆ°ÁêÜ', icon: 'üöÄ', description: '„ÇΩ„Éï„Éà„Ç¶„Çß„Ç¢Â±ïÈñã„ÉªËøΩË∑°' },
      { path: '/problem-management', label: 'ÂïèÈ°åÁÆ°ÁêÜ', icon: 'üîç', description: 'Ê†πÊú¨ÂéüÂõ†ÂàÜÊûê„ÉªÂÜçÁô∫Èò≤Ê≠¢' },
      { path: '/knowledge', label: '„Éä„É¨„ÉÉ„Ç∏ÁÆ°ÁêÜ', icon: 'üìö', description: 'ÊÉÖÂ†±„ÉªÊâãÈ†ÜÊõ∏ËìÑÁ©ç' },
      { path: '/service-level-management', label: 'SLAÁÆ°ÁêÜ', icon: 'üìà', description: 'KPI„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ„ÉªÁõ£Ë¶ñ' },
      { path: '/capacity-management', label: '„Ç≠„É£„Éë„Ç∑„ÉÜ„Ç£ÁÆ°ÁêÜ', icon: '‚öñÔ∏è', description: '„É™„ÇΩ„Éº„Çπ‰ΩøÁî®Áéá„ÉªË®àÁîª' },
      { path: '/availability-management', label: 'ÂèØÁî®ÊÄßÁÆ°ÁêÜ', icon: 'üîß', description: '„Çµ„Éº„Éì„ÇπÁ®ºÂÉçÁéá„ÉªËøΩË∑°' },
      { path: '/security-management', label: '„Çª„Ç≠„É•„É™„ÉÜ„Ç£ÁÆ°ÁêÜ', icon: 'üîí', description: '„Çª„Ç≠„É•„É™„ÉÜ„Ç£„Ç§„É≥„Ç∑„Éá„É≥„Éà„ÉªËÑÜÂº±ÊÄß' },
      { path: '/compliance-management', label: '„Ç≥„É≥„Éó„É©„Ç§„Ç¢„É≥„ÇπÁÆ°ÁêÜ', icon: '‚úÖ', description: 'ISOÊ∫ñÊã†„ÉªÁõ£ÊüªËøΩË∑°' },
      { path: '/audit-log', label: 'Áõ£Êüª„É≠„Ç∞', icon: 'üìã', description: '„Ç∑„Çπ„ÉÜ„É†Áõ£ÊüªË®ºË∑°„Éª„É¶„Éº„Ç∂„ÉºÊ¥ªÂãï' },
      { path: '/settings', label: '„Ç∑„Çπ„ÉÜ„É†Ë®≠ÂÆö', icon: '‚öôÔ∏è', description: '„É¶„Éº„Ç∂„Éº„Éª„É≠„Éº„É´ÁÆ°ÁêÜ' }
    ];
    
    // ==========================================
    // Context Providers
    // ==========================================
    
    // Authentication Context
    const AuthContext = createContext();
    
    const AuthProvider = ({ children }) => {
      const [user, setUser] = useState(null);
      const [isLoading, setIsLoading] = useState(true);
      const [error, setError] = useState(null);
      
      useEffect(() => {
        try {
          const savedUser = sessionStorage.getItem('servicegrid_auth');
          if (savedUser) {
            const authData = JSON.parse(savedUser);
            if (authData.user && authData.timestamp) {
              const now = Date.now();
              const maxAge = 24 * 60 * 60 * 1000; // 24ÊôÇÈñì
              
              if (now - authData.timestamp < maxAge) {
                setUser(authData.user);
              } else {
                sessionStorage.removeItem('servicegrid_auth');
              }
            }
          }
        } catch (e) {
          console.warn('„Çª„ÉÉ„Ç∑„Éß„É≥Âæ©ÂÖÉ„Ç®„É©„Éº:', e);
          sessionStorage.removeItem('servicegrid_auth');
        } finally {
          setIsLoading(false);
        }
      }, []);
      
      const login = useCallback(async (username, password) => {
        setError(null);
        setIsLoading(true);
        
        try {
          const testUsers = {
            'admin': { password: 'admin123', role: UserRole.ADMIN, displayName: 'ÁÆ°ÁêÜËÄÖ' },
            'operator': { password: 'operator123', role: UserRole.OPERATOR, displayName: '„Ç™„Éö„É¨„Éº„Çø„Éº' },
            'user': { password: 'user123', role: UserRole.USER, displayName: '„É¶„Éº„Ç∂„Éº' }
          };
          
          const testUser = testUsers[username];
          if (testUser && testUser.password === password) {
            const userData = {
              id: Date.now().toString(),
              username,
              displayName: testUser.displayName,
              role: testUser.role,
              loginTime: new Date().toISOString()
            };
            
            setUser(userData);
            
            const authData = {
              user: userData,
              timestamp: Date.now()
            };
            sessionStorage.setItem('servicegrid_auth', JSON.stringify(authData));
            
            setIsLoading(false);
            return true;
          } else {
            setError('„É¶„Éº„Ç∂„ÉºÂêç„Åæ„Åü„ÅØ„Éë„Çπ„ÉØ„Éº„Éâ„ÅåÊ≠£„Åó„Åè„ÅÇ„Çä„Åæ„Åõ„Çì');
            setIsLoading(false);
            return false;
          }
        } catch (err) {
          setError('„É≠„Ç∞„Ç§„É≥„Å´Â§±Êïó„Åó„Åæ„Åó„Åü: ' + err.message);
          setIsLoading(false);
          return false;
        }
      }, []);
      
      const logout = useCallback(() => {
        setUser(null);
        sessionStorage.removeItem('servicegrid_auth');
      }, []);
      
      const contextValue = useMemo(() => ({
        user,
        isLoading, 
        error,
        login,
        logout
      }), [user, isLoading, error, login, logout]);
      
      return (
        <AuthContext.Provider value={contextValue}>
          {children}
        </AuthContext.Provider>
      );
    };
    
    const useAuth = () => {
      const context = useContext(AuthContext);
      if (!context) {
        throw new Error('useAuth must be used within AuthProvider');
      }
      return context;
    };
    
    // Toast Context
    const ToastContext = createContext();
    
    const ToastProvider = ({ children }) => {
      const [toasts, setToasts] = useState([]);
      
      const addToast = useCallback((toast) => {
        const id = Math.random().toString(36).substr(2, 9);
        const newToast = { ...toast, id };
        setToasts(prev => [...prev, newToast]);
        
        if (toast.duration !== 0) {
          setTimeout(() => {
            removeToast(id);
          }, toast.duration || 5000);
        }
      }, []);
      
      const removeToast = useCallback((id) => {
        setToasts(prev => prev.filter(toast => toast.id !== id));
      }, []);
      
      const showSuccess = useCallback((message) => {
        addToast({ message, type: 'success' });
      }, [addToast]);
      
      const showError = useCallback((message) => {
        addToast({ message, type: 'error' });
      }, [addToast]);
      
      const showWarning = useCallback((message) => {
        addToast({ message, type: 'warning' });
      }, [addToast]);
      
      const showInfo = useCallback((message) => {
        addToast({ message, type: 'info' });
      }, [addToast]);
      
      const contextValue = useMemo(() => ({
        toasts,
        addToast,
        removeToast,
        showSuccess,
        showError,
        showWarning,
        showInfo
      }), [toasts, addToast, removeToast, showSuccess, showError, showWarning, showInfo]);
      
      return (
        <ToastContext.Provider value={contextValue}>
          {children}
        </ToastContext.Provider>
      );
    };
    
    const useToast = () => {
      const context = useContext(ToastContext);
      if (!context) {
        throw new Error('useToast must be used within ToastProvider');
      }
      return context;
    };
    
    // ==========================================
    // Common UI Components
    // ==========================================
    
    // Button Component
    const Button = memo(({ 
      variant = 'primary', 
      size = 'md', 
      isLoading = false, 
      disabled = false, 
      onClick, 
      children, 
      className = '',
      ...props 
    }) => {
      const baseStyles = 'inline-flex items-center justify-center font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors';
      
      const variants = {
        primary: 'bg-blue-600 hover:bg-blue-700 text-white focus:ring-blue-500',
        secondary: 'bg-slate-200 hover:bg-slate-300 text-slate-800 focus:ring-slate-500',
        danger: 'bg-red-600 hover:bg-red-700 text-white focus:ring-red-500',
        ghost: 'bg-transparent hover:bg-slate-100 text-slate-600 focus:ring-slate-500'
      };
      
      const sizes = {
        sm: 'px-3 py-2 text-sm',
        md: 'px-4 py-2 text-sm',
        lg: 'px-6 py-3 text-base'
      };
      
      const finalClassName = [
        baseStyles, 
        variants[variant], 
        sizes[size], 
        disabled || isLoading ? 'opacity-50 cursor-not-allowed' : '',
        className
      ].filter(Boolean).join(' ');
      
      return (
        <button
          className={finalClassName}
          onClick={disabled || isLoading ? undefined : onClick}
          disabled={disabled || isLoading}
          {...props}
        >
          {isLoading && (
            <div className="loading-spinner mr-2" style={{ width: '16px', height: '16px', borderWidth: '2px' }} />
          )}
          {children}
        </button>
      );
    });
    
    // Card Component
    const Card = memo(({ title, actions, className = '', children }) => {
      return (
        <div className={`bg-white border border-slate-200 rounded-lg shadow-sm ${className}`}>
          {(title || actions) && (
            <div className="px-6 py-4 border-b border-slate-200 flex justify-between items-center">
              {title && (
                <h3 className="text-lg font-semibold text-slate-800">{title}</h3>
              )}
              {actions}
            </div>
          )}
          <div className="p-6">
            {children}
          </div>
        </div>
      );
    });
    
    // Modal Component
    const Modal = memo(({ isOpen, onClose, title, size = 'md', children }) => {
      useEffect(() => {
        if (isOpen) {
          document.body.style.overflow = 'hidden';
          return () => {
            document.body.style.overflow = 'unset';
          };
        }
      }, [isOpen]);
      
      if (!isOpen) return null;
      
      const sizes = {
        sm: 'max-w-md',
        md: 'max-w-lg',
        lg: 'max-w-2xl',
        xl: 'max-w-4xl'
      };
      
      return (
        <div className="fixed inset-0 z-50 overflow-y-auto">
          <div className="flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
            <div className="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity" onClick={onClose}></div>
            
            <span className="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true">&#8203;</span>
            
            <div className={`inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle ${sizes[size]} sm:w-full`}>
              <div className="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
                <div className="flex justify-between items-center mb-4">
                  <h3 className="text-lg font-medium text-gray-900">{title}</h3>
                  <button
                    onClick={onClose}
                    className="text-gray-400 hover:text-gray-600 focus:outline-none"
                  >
                    <span className="sr-only">Èñâ„Åò„Çã</span>
                    <svg className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
                    </svg>
                  </button>
                </div>
                {children}
              </div>
            </div>
          </div>
        </div>
      );
    });
    
    // Input Component
    const Input = memo(({ 
      label, 
      error, 
      required = false,
      className = '',
      ...props 
    }) => {
      return (
        <div className="mb-4">
          {label && (
            <label className="block text-sm font-medium text-gray-700 mb-1">
              {label}
              {required && <span className="text-red-500 ml-1">*</span>}
            </label>
          )}
          <input
            className={`w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${
              error ? 'border-red-500' : ''
            } ${className}`}
            {...props}
          />
          {error && (
            <p className="mt-1 text-sm text-red-600">{error}</p>
          )}
        </div>
      );
    });
    
    // Textarea Component
    const Textarea = memo(({ 
      label, 
      error, 
      required = false,
      rows = 3,
      className = '',
      ...props 
    }) => {
      return (
        <div className="mb-4">
          {label && (
            <label className="block text-sm font-medium text-gray-700 mb-1">
              {label}
              {required && <span className="text-red-500 ml-1">*</span>}
            </label>
          )}
          <textarea
            rows={rows}
            className={`w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${
              error ? 'border-red-500' : ''
            } ${className}`}
            {...props}
          />
          {error && (
            <p className="mt-1 text-sm text-red-600">{error}</p>
          )}
        </div>
      );
    });
    
    // Select Component
    const Select = memo(({ 
      label, 
      options = [], 
      error, 
      required = false,
      placeholder = 'ÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ',
      className = '',
      ...props 
    }) => {
      return (
        <div className="mb-4">
          {label && (
            <label className="block text-sm font-medium text-gray-700 mb-1">
              {label}
              {required && <span className="text-red-500 ml-1">*</span>}
            </label>
          )}
          <select
            className={`w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${
              error ? 'border-red-500' : ''
            } ${className}`}
            {...props}
          >
            <option value="">{placeholder}</option>
            {options.map((option, index) => (
              <option key={index} value={option.value}>
                {option.label}
              </option>
            ))}
          </select>
          {error && (
            <p className="mt-1 text-sm text-red-600">{error}</p>
          )}
        </div>
      );
    });
    
    // LoadingSpinner Component
    const LoadingSpinner = memo(({ size = 'md', className = '' }) => {
      const sizes = {
        sm: 'h-4 w-4',
        md: 'h-8 w-8', 
        lg: 'h-16 w-16'
      };
      
      return (
        <div className={`loading-spinner ${sizes[size]} ${className}`} />
      );
    });
    
    // ==========================================
    // Layout Components
    // ==========================================
    
    // Header Component
    const Header = memo(() => {
      const { user, logout } = useAuth();
      const history = useHistory();
      const [dropdownOpen, setDropdownOpen] = useState(false);
      const dropdownRef = useRef(null);
      
      const handleLogout = useCallback(() => {
        logout();
        history.push('/login');
      }, [logout, history]);
      
      const roleToJapanese = (role) => {
        const roleMap = {
          [UserRole.ADMIN]: 'ÁÆ°ÁêÜËÄÖ',
          [UserRole.OPERATOR]: '„Ç™„Éö„É¨„Éº„Çø„Éº',
          [UserRole.USER]: '„É¶„Éº„Ç∂„Éº',
          [UserRole.READ_ONLY]: 'Èñ≤Ë¶ßÂ∞ÇÁî®'
        };
        return roleMap[role] || role;
      };
      
      // Close dropdown when clicking outside
      useEffect(() => {
        const handleClickOutside = (event) => {
          if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {
            setDropdownOpen(false);
          }
        };
        
        if (dropdownOpen) {
          document.addEventListener('mousedown', handleClickOutside);
          return () => document.removeEventListener('mousedown', handleClickOutside);
        }
      }, [dropdownOpen]);
      
      return (
        <header className="bg-white shadow-md p-4 flex justify-between items-center sticky top-0 z-10">
          <h1 className="text-xl font-semibold text-slate-800">
            {APP_NAME}
          </h1>
          
          <div className="relative" ref={dropdownRef}>
            <button
              onClick={() => setDropdownOpen(!dropdownOpen)}
              className="flex items-center text-slate-600 hover:text-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 rounded-md p-1"
              aria-expanded={dropdownOpen}
              aria-haspopup="menu"
            >
              <div className="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white font-semibold mr-2">
                {user?.username?.charAt(0)?.toUpperCase() || 'U'}
              </div>
              <span className="hidden md:inline">
                {user ? `${user.displayName} (${roleToJapanese(user.role)})` : '„Ç≤„Çπ„Éà'}
              </span>
              <svg 
                className="w-5 h-5 ml-1 hidden md:inline"
                fill="currentColor" 
                viewBox="0 0 20 20"
              >
                <path fillRule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clipRule="evenodd" />
              </svg>
            </button>
            
            {dropdownOpen && (
              <div className="absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-20 border border-slate-200">
                <button
                  onClick={() => { history.push('/settings'); setDropdownOpen(false); }}
                  className="block w-full text-left px-4 py-2 text-sm text-slate-700 hover:bg-slate-100"
                >
                  „Éó„É≠„Éï„Ç°„Ç§„É´Ë®≠ÂÆö
                </button>
                <button
                  onClick={handleLogout}
                  className="block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50"
                >
                  „É≠„Ç∞„Ç¢„Ç¶„Éà
                </button>
              </div>
            )}
          </div>
        </header>
      );
    });
    
    // Sidebar Component
    const Sidebar = memo(({ isOpen, toggleSidebar }) => {
      const location = useLocation();
      
      return (
        <>
          {/* Overlay for mobile */}
          {isOpen && (
            <div 
              className="fixed inset-0 z-20 bg-black opacity-50 lg:hidden" 
              onClick={toggleSidebar}
            />
          )}
          
          <aside 
            className={`fixed lg:static inset-y-0 left-0 z-30 w-72 bg-slate-800 text-slate-100 p-4 transform ${
              isOpen ? 'translate-x-0' : '-translate-x-full'
            } lg:translate-x-0 transition-transform duration-300 ease-in-out flex flex-col`}
          >
            <div className="text-2xl font-bold mb-6 text-center text-white">
              ServiceGrid
            </div>
            
            <nav className="flex-grow overflow-y-auto custom-scrollbar">
              <ul className="space-y-1">
                {NAVIGATION_ITEMS.map((item, index) => {
                  const isActive = location.pathname === item.path;
                  return (
                    <li key={item.path}>
                      <NavLink
                        to={item.path}
                        onClick={() => {
                          if (window.innerWidth < 1024) {
                            toggleSidebar();
                          }
                        }}
                        className={`flex items-start p-3 rounded-md hover:bg-slate-700 focus:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-inset transition-colors ${
                          isActive ? 'bg-blue-600 text-white font-semibold' : 'text-slate-300 hover:text-white'
                        }`}
                        aria-current={isActive ? 'page' : undefined}
                      >
                        <span className="flex-shrink-0 mr-3" aria-hidden="true">
                          {item.icon}
                        </span>
                        <div className="flex-1 min-w-0">
                          <span className="block text-sm leading-tight truncate">
                            {item.label}
                          </span>
                          {item.description && (
                            <span className="block text-xs text-slate-400 mt-0.5 leading-tight truncate">
                              {item.description}
                            </span>
                          )}
                        </div>
                      </NavLink>
                    </li>
                  );
                })}
              </ul>
            </nav>
            
            <footer className="mt-auto pt-4">
              <p className="text-xs text-slate-400 text-center">
                &copy; {new Date().getFullYear()} ITSM „Éó„É©„ÉÉ„Éà„Éï„Ç©„Éº„É†
              </p>
            </footer>
          </aside>
        </>
      );
    });
    
    // MainLayout Component
    const MainLayout = memo(({ children }) => {
      const [sidebarOpen, setSidebarOpen] = useState(false);
      
      const toggleSidebar = useCallback(() => {
        setSidebarOpen(prev => !prev);
      }, []);
      
      // Close sidebar when screen size changes to desktop
      useEffect(() => {
        const handleResize = () => {
          if (window.innerWidth >= 1024 && sidebarOpen) {
            setSidebarOpen(false);
          }
        };
        
        window.addEventListener('resize', handleResize);
        return () => window.removeEventListener('resize', handleResize);
      }, [sidebarOpen]);
      
      return (
        <div className="flex h-screen bg-slate-100">
          <Sidebar isOpen={sidebarOpen} toggleSidebar={toggleSidebar} />
          <div className="flex-1 flex flex-col overflow-hidden">
            {/* Mobile header */}
            <div className="lg:hidden bg-white p-4 border-b">
              <button
                onClick={toggleSidebar}
                className="text-slate-600 hover:text-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500"
                aria-label="„É°„Éã„É•„Éº„ÇíÈñã„Åè"
              >
                <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 6h16M4 12h16M4 18h16" />
                </svg>
                <span className="ml-2">„É°„Éã„É•„Éº</span>
              </button>
            </div>
            
            <Header />
            <main className="flex-1 overflow-x-hidden overflow-y-auto bg-slate-100 p-6 custom-scrollbar">
              {children}
            </main>
          </div>
        </div>
      );
    });
    
    // ==========================================
    // Toast Container Component
    // ==========================================
    
    const ToastContainer = () => {
      const { toasts, removeToast } = useToast();
      
      return (
        <div className="fixed top-4 right-4 z-50 space-y-2">
          {toasts.map(toast => (
            <div
              key={toast.id}
              className={`max-w-sm w-full bg-white shadow-lg rounded-lg pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden transform transition-all duration-300 ${
                toast.type === 'success' ? 'border-l-4 border-green-500' :
                toast.type === 'error' ? 'border-l-4 border-red-500' :
                toast.type === 'warning' ? 'border-l-4 border-yellow-500' :
                'border-l-4 border-blue-500'
              }`}
            >
              <div className="p-4">
                <div className="flex items-start">
                  <div className="flex-1">
                    <p className="text-sm font-medium text-gray-900">
                      {toast.message}
                    </p>
                  </div>
                  <button
                    onClick={() => removeToast(toast.id)}
                    className="ml-4 text-gray-400 hover:text-gray-500 focus:outline-none"
                  >
                    <span className="sr-only">Èñâ„Åò„Çã</span>
                    <svg className="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                      <path fillRule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clipRule="evenodd" />
                    </svg>
                  </button>
                </div>
              </div>
            </div>
          ))}
        </div>
      );
    };
    
    // ==========================================
    // Page Components
    // ==========================================
    
    // Login Page
    const LoginPage = () => {
      const [username, setUsername] = useState('');
      const [password, setPassword] = useState('');
      const { login, error, isLoading } = useAuth();
      const history = useHistory();
      
      const handleSubmit = async (e) => {
        e.preventDefault();
        const success = await login(username, password);
        if (success) {
          history.push('/dashboard');
        }
      };
      
      return (
        <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4">
          <div className="max-w-md w-full">
            <Card title="ServiceGrid ITSM">
              <form onSubmit={handleSubmit} className="space-y-4">
                <Input
                  type="text"
                  required
                  label="„É¶„Éº„Ç∂„ÉºÂêç"
                  placeholder="„É¶„Éº„Ç∂„ÉºÂêç„ÇíÂÖ•Âäõ"
                  value={username}
                  onChange={(e) => setUsername(e.target.value)}
                />
                
                <Input
                  type="password"
                  required
                  label="„Éë„Çπ„ÉØ„Éº„Éâ"
                  placeholder="„Éë„Çπ„ÉØ„Éº„Éâ„ÇíÂÖ•Âäõ"
                  value={password}
                  onChange={(e) => setPassword(e.target.value)}
                />
                
                {error && (
                  <div className="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded">
                    {error}
                  </div>
                )}
                
                <Button
                  type="submit"
                  isLoading={isLoading}
                  className="w-full"
                >
                  {isLoading ? '„É≠„Ç∞„Ç§„É≥‰∏≠...' : '„É≠„Ç∞„Ç§„É≥'}
                </Button>
                
                <div className="text-sm text-gray-600 text-center space-y-1 mt-4">
                  <p className="font-semibold">üîë „ÉÜ„Çπ„ÉàÁî®„Ç¢„Ç´„Ç¶„É≥„Éà:</p>
                  <p>admin / admin123 (ÁÆ°ÁêÜËÄÖ)</p>
                  <p>operator / operator123 („Ç™„Éö„É¨„Éº„Çø„Éº)</p>
                  <p>user / user123 („É¶„Éº„Ç∂„Éº)</p>
                </div>
              </form>
            </Card>
          </div>
        </div>
      );
    };
    
    // Dashboard Page
    const DashboardPage = () => {
      const { user } = useAuth();
      const { showSuccess } = useToast();
      const [stats, setStats] = useState({
        systemUptime: 99.8,
        totalAssets: 1247,
        activeIncidents: 12,
        pendingRequests: 8
      });
      const [loading, setLoading] = useState(true);
      
      const fetchDashboardData = useCallback(async () => {
        try {
          setLoading(true);
          
          // „Éê„ÉÉ„ÇØ„Ç®„É≥„ÉâAPI„Åã„ÇâÁµ±Ë®à„Éá„Éº„Çø„ÇíÂèñÂæóÔºà„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ‰ªò„ÅçÔºâ
          const controller = new AbortController();
          const timeoutId = setTimeout(() => controller.abort(), 5000);
          
          const [assetsResponse, incidentsResponse] = await Promise.allSettled([
            fetch('http://localhost:8082/api/assets/stats', { signal: controller.signal })
              .then(r => r.ok ? r.json() : { total: 1247 }),
            fetch('http://localhost:8082/api/incidents/stats', { signal: controller.signal })
              .then(r => r.ok ? r.json() : { active: 12 })
          ]);
          
          clearTimeout(timeoutId);
          
          const assetStats = assetsResponse.status === 'fulfilled' ? assetsResponse.value : { total: 1247 };
          const incidentStats = incidentsResponse.status === 'fulfilled' ? incidentsResponse.value : { active: 12 };
          
          setStats({
            systemUptime: 99.8,
            totalAssets: assetStats.total || 1247,
            activeIncidents: incidentStats.active || 12,
            pendingRequests: 8
          });
        } catch (error) {
          console.warn('„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ„Éá„Éº„ÇøÂèñÂæóÂ§±Êïó„ÄÅ„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ„Éá„Éº„Çø„Çí‰ΩøÁî®:', error);
          setStats({
            systemUptime: 99.8,
            totalAssets: 1247,
            activeIncidents: 12,
            pendingRequests: 8
          });
        } finally {
          setLoading(false);
        }
      }, []);
      
      useEffect(() => {
        fetchDashboardData();
        const interval = setInterval(fetchDashboardData, 30000);
        return () => clearInterval(interval);
      }, [fetchDashboardData]);
      
      const handleQuickAction = (action) => {
        showSuccess(`${action}ÁîªÈù¢„Å∏„ÅÆ„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„ÅåÂÆüË£Ö„Åï„Çå„Åæ„Åô`);
      };
      
      if (loading) {
        return (
          <div className="flex items-center justify-center h-64">
            <LoadingSpinner size="lg" />
            <p className="ml-4 text-lg text-slate-700">„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ„Éá„Éº„ÇøË™≠„ÅøËæº„Åø‰∏≠...</p>
          </div>
        );
      }
      
      return (
        <div className="space-y-6">
          <div className="flex justify-between items-center">
            <h1 className="text-3xl font-bold text-slate-800">„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ</h1>
            <p className="text-slate-600">„Çà„ÅÜ„Åì„Åù„ÄÅ{user?.displayName}„Åï„Çì</p>
          </div>
          
          {/* Áµ±Ë®à„Ç´„Éº„Éâ */}
          <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
            {[
              { label: '„Ç∑„Çπ„ÉÜ„É†Á®ºÂÉçÁéá', value: `${stats.systemUptime}%`, icon: '‚ö°', color: 'green' },
              { label: 'ÁÆ°ÁêÜË≥áÁî£Êï∞', value: stats.totalAssets.toLocaleString(), icon: 'üíª', color: 'blue' },
              { label: '„Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Ç§„É≥„Ç∑„Éá„É≥„Éà', value: stats.activeIncidents.toString(), icon: 'üö®', color: 'red' },
              { label: 'ÊâøË™çÂæÖ„Å°Ë¶ÅÊ±Ç', value: stats.pendingRequests.toString(), icon: 'üìã', color: 'yellow' }
            ].map((stat, index) => (
              <Card 
                key={index}
                className={`border-l-4 border-${stat.color}-500`}
              >
                <div className="flex items-center">
                  <div className={`w-12 h-12 bg-${stat.color}-500 rounded-full flex items-center justify-center text-white mr-4`}>
                    <span className="text-xl">{stat.icon}</span>
                  </div>
                  <div>
                    <dt className="text-sm font-medium text-gray-500">{stat.label}</dt>
                    <dd className="text-2xl font-bold text-gray-900">{stat.value}</dd>
                  </div>
                </div>
              </Card>
            ))}
          </div>
          
          {/* „ÇØ„Ç§„ÉÉ„ÇØ„Ç¢„ÇØ„Ç∑„Éß„É≥ */}
          <Card title="„ÇØ„Ç§„ÉÉ„ÇØ„Ç¢„ÇØ„Ç∑„Éß„É≥">
            <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
              {[
                { icon: 'üö®', label: '„Ç§„É≥„Ç∑„Éá„É≥„ÉàÂ†±Âëä', color: 'blue' },
                { icon: 'üìù', label: '„Çµ„Éº„Éì„ÇπË¶ÅÊ±Ç', color: 'green' },
                { icon: 'üíª', label: 'Ë≥áÁî£ÁÆ°ÁêÜ', color: 'purple' },
                { icon: 'üìö', label: '„Éä„É¨„ÉÉ„Ç∏„Éô„Éº„Çπ', color: 'orange' }
              ].map((action, index) => (
                <button
                  key={index}
                  onClick={() => handleQuickAction(action.label)}
                  className={`bg-${action.color}-50 hover:bg-${action.color}-100 p-4 rounded-lg text-center transition-colors focus:outline-none focus:ring-2 focus:ring-${action.color}-500`}
                >
                  <div className="text-2xl mb-2">{action.icon}</div>
                  <div className="text-sm font-medium text-gray-900">{action.label}</div>
                </button>
              ))}
            </div>
          </Card>
        </div>
      );
    };
    
    // Placeholder Page Component
    const PlaceholderPage = ({ title, description }) => {
      const { showInfo } = useToast();
      
      useEffect(() => {
        showInfo(`${title}„Éö„Éº„Ç∏„ÅåË°®Á§∫„Åï„Çå„Åæ„Åó„Åü`);
      }, [title, showInfo]);
      
      return (
        <div className="text-center py-12">
          <Card>
            <h1 className="text-3xl font-bold text-slate-800 mb-4">{title}</h1>
            <p className="text-slate-600 mb-6">
              {description || `${title}„ÅÆÊ©üËÉΩ„ÅØÁèæÂú®ÈñãÁô∫‰∏≠„Åß„Åô„ÄÇ`}
            </p>
            <div className="text-8xl mb-6">üöß</div>
            <p className="text-sm text-slate-500 mb-4">
              „Åì„ÅÆÊ©üËÉΩ„ÅØËøëÊó•ÂÖ¨Èñã‰∫àÂÆö„Åß„Åô„ÄÇ
            </p>
            <div className="text-left bg-slate-50 p-4 rounded-lg">
              <h3 className="font-semibold mb-2">ÂÆüË£Ö‰∫àÂÆöÊ©üËÉΩ:</h3>
              <ul className="text-sm text-slate-600 space-y-1">
                <li>‚Ä¢ CRUDÊìç‰Ωú (‰ΩúÊàê„ÉªË°®Á§∫„ÉªÊõ¥Êñ∞„ÉªÂâäÈô§)</li>
                <li>‚Ä¢ È´òÂ∫¶„Éï„Ç£„É´„Çø„É™„É≥„Ç∞„ÉªÊ§úÁ¥¢</li>
                <li>‚Ä¢ „Éö„Éº„Ç∏„Éç„Éº„Ç∑„Éß„É≥</li>
                <li>‚Ä¢ „Éá„Éº„Çø„Ç®„ÇØ„Çπ„Éù„Éº„Éà (CSV/PDF)</li>
                <li>‚Ä¢ „É™„Ç¢„É´„Çø„Ç§„É†Êõ¥Êñ∞</li>
              </ul>
            </div>
          </Card>
        </div>
      );
    };
    
    // ==========================================
    // Error Boundary
    // ==========================================
    
    class ErrorBoundary extends React.Component {
      constructor(props) {
        super(props);
        this.state = { hasError: false, error: null };
      }
      
      static getDerivedStateFromError(error) {
        return { hasError: true, error };
      }
      
      componentDidCatch(error, errorInfo) {
        console.error('ErrorBoundary caught an error:', error, errorInfo);
      }
      
      render() {
        if (this.state.hasError) {
          return (
            <div className="min-h-screen flex items-center justify-center bg-gray-50">
              <div className="text-center">
                <h1 className="text-2xl font-bold text-gray-800 mb-4">
                  ‰∫àÊúü„Åó„Å™„ÅÑ„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü
                </h1>
                <p className="text-gray-600 mb-8">
                  Áî≥„ÅóË®≥„Åî„Åñ„ÅÑ„Åæ„Åõ„Çì„Åå„ÄÅ„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„Åß„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü„ÄÇ
                </p>
                <Button onClick={() => window.location.reload()}>
                  „Éö„Éº„Ç∏„ÇíÂÜçË™≠„ÅøËæº„Åø
                </Button>
              </div>
            </div>
          );
        }
        
        return this.props.children;
      }
    }
    
    // ==========================================
    // Protected Route Component
    // ==========================================
    
    const ProtectedRoute = ({ children, ...rest }) => {
      const { user } = useAuth();
      
      return (
        <Route
          {...rest}
          render={({ location }) =>
            user ? (
              children
            ) : (
              <Redirect
                to={{
                  pathname: '/login',
                  state: { from: location }
                }}
              />
            )
          }
        />
      );
    };
    
    // ==========================================
    // App Component
    // ==========================================
    
    const AppContent = () => {
      const { user, isLoading } = useAuth();
      
      useEffect(() => {
        document.title = APP_NAME;
      }, []);
      
      if (isLoading) {
        return (
          <div className="min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center">
            <div className="text-center">
              <LoadingSpinner size="lg" />
              <p className="mt-4 text-xl text-slate-700">ITSMÈÅãÁî®„Ç∑„Çπ„ÉÜ„É†Ë™≠„ÅøËæº„Åø‰∏≠...</p>
            </div>
          </div>
        );
      }
      
      return (
        <ErrorBoundary>
          <Router>
            <Switch>
              {/* Public Routes */}
              <Route path="/login">
                {user ? <Redirect to="/dashboard" /> : <LoginPage />}
              </Route>
              
              {/* Protected Routes */}
              <ProtectedRoute path="/">
                <MainLayout>
                  <ErrorBoundary>
                    <Switch>
                      <Route exact path="/">
                        <Redirect to="/dashboard" />
                      </Route>
                      
                      {/* ITSM Core Pages */}
                      <Route path="/dashboard">
                        <DashboardPage />
                      </Route>
                      <Route path="/incidents">
                        <PlaceholderPage 
                          title="„Ç§„É≥„Ç∑„Éá„É≥„ÉàÁÆ°ÁêÜ" 
                          description="„Ç§„É≥„Ç∑„Éá„É≥„Éà„É©„Ç§„Éï„Çµ„Ç§„ÇØ„É´ÁÆ°ÁêÜ - CRUDÊìç‰Ωú„ÄÅ„Çπ„ÉÜ„Éº„Çø„ÇπÁÆ°ÁêÜ„ÄÅÂÑ™ÂÖàÂ∫¶ÁÆ°ÁêÜ"
                        />
                      </Route>
                      <Route path="/requests">
                        <PlaceholderPage 
                          title="„Çµ„Éº„Éì„ÇπË¶ÅÊ±Ç" 
                          description="„É¶„Éº„Ç∂„ÉºÁî≥Ë´ã„ÉªË¶ÅÊ±ÇÁÆ°ÁêÜ - Áî≥Ë´ã„ÉØ„Éº„ÇØ„Éï„É≠„Éº„ÄÅÊâøË™ç„Éó„É≠„Çª„Çπ"
                        />
                      </Route>
                      <Route path="/assets">
                        <PlaceholderPage 
                          title="Ë≥áÁî£ÁÆ°ÁêÜ" 
                          description="ÊßãÊàêÁÆ°ÁêÜ„Éá„Éº„Çø„Éô„Éº„Çπ (CMDB) - Ë≥áÁî£Âè∞Â∏≥ÁÆ°ÁêÜ„ÄÅÈñ¢‰øÇÊÄßÁÆ°ÁêÜ"
                        />
                      </Route>
                      <Route path="/knowledge">
                        <PlaceholderPage 
                          title="„Éä„É¨„ÉÉ„Ç∏ÁÆ°ÁêÜ" 
                          description="ÊÉÖÂ†±„ÉªÊâãÈ†ÜÊõ∏ËìÑÁ©ç - Ë®ò‰∫ã‰ΩúÊàê„ÉªÁ∑®ÈõÜ„ÄÅÊ§úÁ¥¢„Éª„Éï„Ç£„É´„ÇøÊ©üËÉΩ"
                        />
                      </Route>
                      
                      {/* ITSM Process Pages */}
                      <Route path="/change-management">
                        <PlaceholderPage 
                          title="Â§âÊõ¥ÁÆ°ÁêÜ" 
                          description="Â§âÊõ¥Ë¶ÅÊ±Ç„ÉªÊâøË™ç„ÉØ„Éº„ÇØ„Éï„É≠„Éº"
                        />
                      </Route>
                      <Route path="/release-management">
                        <PlaceholderPage 
                          title="„É™„É™„Éº„ÇπÁÆ°ÁêÜ" 
                          description="„ÇΩ„Éï„Éà„Ç¶„Çß„Ç¢Â±ïÈñã„ÉªËøΩË∑°"
                        />
                      </Route>
                      <Route path="/problem-management">
                        <PlaceholderPage 
                          title="ÂïèÈ°åÁÆ°ÁêÜ" 
                          description="Ê†πÊú¨ÂéüÂõ†ÂàÜÊûê„ÉªÂÜçÁô∫Èò≤Ê≠¢"
                        />
                      </Route>
                      <Route path="/service-level-management">
                        <PlaceholderPage 
                          title="SLAÁÆ°ÁêÜ" 
                          description="KPI„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ„ÉªÁõ£Ë¶ñ"
                        />
                      </Route>
                      <Route path="/capacity-management">
                        <PlaceholderPage 
                          title="„Ç≠„É£„Éë„Ç∑„ÉÜ„Ç£ÁÆ°ÁêÜ" 
                          description="„É™„ÇΩ„Éº„Çπ‰ΩøÁî®Áéá„ÉªË®àÁîª"
                        />
                      </Route>
                      <Route path="/availability-management">
                        <PlaceholderPage 
                          title="ÂèØÁî®ÊÄßÁÆ°ÁêÜ" 
                          description="„Çµ„Éº„Éì„ÇπÁ®ºÂÉçÁéá„ÉªËøΩË∑°"
                        />
                      </Route>
                      <Route path="/security-management">
                        <PlaceholderPage 
                          title="„Çª„Ç≠„É•„É™„ÉÜ„Ç£ÁÆ°ÁêÜ" 
                          description="„Çª„Ç≠„É•„É™„ÉÜ„Ç£„Ç§„É≥„Ç∑„Éá„É≥„Éà„ÉªËÑÜÂº±ÊÄß"
                        />
                      </Route>
                      <Route path="/compliance-management">
                        <PlaceholderPage 
                          title="„Ç≥„É≥„Éó„É©„Ç§„Ç¢„É≥„ÇπÁÆ°ÁêÜ" 
                          description="ISOÊ∫ñÊã†„ÉªÁõ£ÊüªËøΩË∑°"
                        />
                      </Route>
                      
                      {/* System Management Pages */}
                      <Route path="/audit-log">
                        <PlaceholderPage 
                          title="Áõ£Êüª„É≠„Ç∞" 
                          description="„Ç∑„Çπ„ÉÜ„É†Áõ£ÊüªË®ºË∑°„Éª„É¶„Éº„Ç∂„ÉºÊ¥ªÂãï"
                        />
                      </Route>
                      <Route path="/settings">
                        <PlaceholderPage 
                          title="„Ç∑„Çπ„ÉÜ„É†Ë®≠ÂÆö" 
                          description="„É¶„Éº„Ç∂„Éº„Éª„É≠„Éº„É´ÁÆ°ÁêÜ„ÄÅ„Ç∑„Çπ„ÉÜ„É†„Éë„É©„É°„Éº„ÇøË®≠ÂÆö"
                        />
                      </Route>
                      
                      {/* Fallback */}
                      <Route path="*">
                        <Redirect to="/dashboard" />
                      </Route>
                    </Switch>
                  </ErrorBoundary>
                </MainLayout>
              </ProtectedRoute>
            </Switch>
            <ToastContainer />
          </Router>
        </ErrorBoundary>
      );
    };
    
    const App = () => {
      return (
        <AuthProvider>
          <ToastProvider>
            <AppContent />
          </ToastProvider>
        </AuthProvider>
      );
    };
    
    // ==========================================
    // Render App
    // ==========================================
    
    ReactDOM.render(<App />, document.getElementById('root'));
  </script>
</body>
</html>