name: Claude Development Loop

on:
  workflow_dispatch:

jobs:
  test:
    runs-on: ubuntu-latest
    
    steps:
    - name: ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆ
      uses: actions/checkout@v4
      
    - name: Node.js ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—  
      uses: actions/setup-node@v4
      with:
        node-version: '20'
        
    - name: Claude Code ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
      run: |
        echo "Claude Codeã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ä¸­..."
        npm install -g @anthropic-ai/claude-code
        claude-code --version || echo "ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç¢ºèªä¸­..."
        
    - name: ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
      env:
        ANTHROPIC_API_KEY: ${{ secrets.CLAUDE_API_KEY }}
      run: |
        echo "ğŸš€ ãƒ†ã‚¹ãƒˆå®Ÿè¡Œé–‹å§‹"
        echo "ç’°å¢ƒç¢ºèªå®Œäº†"
        if command -v claude-code &> /dev/null; then
          echo "âœ… claude-code ã‚³ãƒãƒ³ãƒ‰åˆ©ç”¨å¯èƒ½"
        else
          echo "âš ï¸ claude-code ã‚³ãƒãƒ³ãƒ‰è¦‹ã¤ã‹ã‚‰ãš"
        fi
