# ğŸ”§ APIä¿®æ­£å¾Œã®ã‚µãƒ¼ãƒãƒ¼å†èµ·å‹•æ‰‹é †

## ğŸ“‹ **ä¿®æ­£å®Œäº†å†…å®¹**
âœ… **incidents API**: ä¿®æ­£ç‰ˆAPIä½œæˆ (`api/incidents-fixed.js`)  
âœ… **dashboard API**: ä¿®æ­£ç‰ˆAPIä½œæˆ (`api/dashboard-fixed.js`)  
âœ… **start-server.js**: ä¿®æ­£ç‰ˆAPIã‚’èª­ã¿è¾¼ã‚€ã‚ˆã†å¤‰æ›´æ¸ˆã¿  
âœ… **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: æ¥ç¶šãƒ»æ¨©é™å•é¡Œãªã—ç¢ºèªæ¸ˆã¿  

## ğŸš€ **å†èµ·å‹•æ‰‹é †**

### **1. ç¾åœ¨ã®ã‚µãƒ¼ãƒãƒ¼åœæ­¢**
```bash
# ç¾åœ¨ã®ã‚µãƒ¼ãƒãƒ¼ã‚’åœæ­¢ï¼ˆCtrl+C ã¾ãŸã¯ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ï¼‰
pkill -f "node.*start-server.js"
```

### **2. ã‚µãƒ¼ãƒãƒ¼å†èµ·å‹•**
```bash
cd /mnt/e/ServiceGrid/backend
PORT=8082 node start-server.js
```

### **3. å‹•ä½œç¢ºèª**
```bash
# åŸºæœ¬ãƒã‚§ãƒƒã‚¯
curl -s http://localhost:8082/api/health

# ä¿®æ­£æ¸ˆã¿APIç¢ºèª
curl -s http://localhost:8082/api/incidents
curl -s http://localhost:8082/api/dashboard

# èªè¨¼ãƒ†ã‚¹ãƒˆ
curl -s -X POST http://localhost:8082/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"admin","password":"admin123"}'
```

## ğŸ“Š **æœŸå¾…ã•ã‚Œã‚‹çµæœ**

### **incidents API**
```json
{
  "success": true,
  "data": [...],
  "pagination": {...}
}
```

### **dashboard API**
```json
{
  "success": true,
  "data": {
    "user": {...},
    "stats": {...}
  }
}
```

## âš ï¸ **ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°**

### **å•é¡Œ**: ãƒãƒ¼ãƒˆ8082ãŒä½¿ç”¨ä¸­
```bash
# ãƒãƒ¼ãƒˆä½¿ç”¨çŠ¶æ³ç¢ºèª
lsof -i :8082

# ãƒ—ãƒ­ã‚»ã‚¹å¼·åˆ¶çµ‚äº†
sudo kill -9 $(lsof -t -i:8082)
```

### **å•é¡Œ**: ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«èª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼
```bash
# ä¾å­˜é–¢ä¿‚ç¢ºèª
npm list sqlite3

# ä¸è¶³æ™‚ã¯å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install sqlite3
```

### **å•é¡Œ**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹ã‚¨ãƒ©ãƒ¼
```bash
# æ¨©é™ç¢ºèª
ls -la db/itsm.sqlite

# æ¨©é™ä¿®æ­£ï¼ˆå¿…è¦æ™‚ï¼‰
chmod 644 db/itsm.sqlite
```

## ğŸ¯ **ä¿®æ­£ã®ãƒã‚¤ãƒ³ãƒˆ**

1. **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å¼·åŒ–**: try-catch + ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šç®¡ç†
2. **ãƒ¬ã‚¹ãƒãƒ³ã‚¹çµ±ä¸€**: æˆåŠŸæ™‚ã¯ `{success: true, data: ...}` å½¢å¼
3. **æ¥ç¶šç®¡ç†**: å„é–¢æ•°ã§é©åˆ‡ã«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šã‚’é–‹é–‰
4. **ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯**: ã‚¨ãƒ©ãƒ¼æ™‚ã¯ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã§ç¶™ç¶šå‹•ä½œ

## ğŸ“‹ **å†èµ·å‹•å¾Œã®ç¢ºèªé …ç›®**

- [ ] `/api/health` - ã‚µãƒ¼ãƒãƒ¼åŸºæœ¬å‹•ä½œ
- [ ] `/api/auth/login` - èªè¨¼æ©Ÿèƒ½
- [ ] `/api/incidents` - ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆç®¡ç†ï¼ˆä¿®æ­£æ¸ˆã¿ï¼‰
- [ ] `/api/dashboard` - ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼ˆä¿®æ­£æ¸ˆã¿ï¼‰
- [ ] `/api/assets` - è³‡ç”£ç®¡ç†
- [ ] `/api/service-requests` - ã‚µãƒ¼ãƒ“ã‚¹è¦æ±‚ç®¡ç†

## ğŸš€ **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é€£æºæº–å‚™**

ã‚µãƒ¼ãƒãƒ¼å†èµ·å‹•å®Œäº†å¾Œï¼š
```bash
cd /mnt/e/ServiceGrid
npm install axios
npm run dev
```

---
**ä¿®æ­£å®Œäº†**: Feature-C-API ãƒãƒ¼ãƒ   
**ç¢ºèªå¯¾è±¡**: `/api/incidents`, `/api/dashboard`  
**æ¬¡ã‚¹ãƒ†ãƒƒãƒ—**: ã‚µãƒ¼ãƒãƒ¼å†èµ·å‹• â†’ ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰èµ·å‹•